{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/File.vue?76ac","webpack:///./src/components/RuleVarEdit.vue?1e22","webpack:///./src/components/MathKeypad.vue?b36f","webpack:///./src/App.vue?8888","webpack:///./src/App.vue?1e45","webpack:///./src/App.vue","webpack:///./src/components/AppNavigation.vue","webpack:///./src/components/AppNavigation.vue?fe14","webpack:///./src/components/MathKeypad.vue","webpack:///./src/components/MathKeypad.vue?eef5","webpack:///./src/App.vue?dfb6","webpack:///./src/components/MathList.vue","webpack:///./src/components/MathHeader.vue","webpack:///./src/components/MathHeader.vue?55ea","webpack:///./src/components/MathItem.vue","webpack:///./src/components/RuleSelect.vue","webpack:///./src/components/RuleVarEdit.vue","webpack:///./src/libs/mq.js","webpack:///./src/components/RuleVarEdit.vue?24d9","webpack:///./src/components/RuleSwapEdit.vue","webpack:///./src/components/RuleSwapEdit.vue?47ce","webpack:///./src/libs/evaluatexExtended/Token.js","webpack:///./src/libs/evaluatexExtended/util/arities.js","webpack:///./src/libs/evaluatexExtended/util/localFunctions.js","webpack:///./src/libs/evaluatexExtended/lexer.js","webpack:///./src/libs/evaluatexExtended/Node.js","webpack:///./src/libs/evaluatexExtended/parser.js","webpack:///./src/libs/evaluatexExtended/evaluatex.js","webpack:///./src/libs/rule.js","webpack:///./src/components/RuleSelect.vue?f3fb","webpack:///./src/components/MathItem.vue?db89","webpack:///./src/components/MathEnter.vue","webpack:///./src/components/MathEnter.vue?a8dd","webpack:///./src/components/MathList.vue?ba87","webpack:///./src/components/Editor.vue","webpack:///./src/components/Editor.vue?ee02","webpack:///./src/components/File.vue","webpack:///./src/components/File.vue?c067","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/RuleSelect.vue?f5b2","webpack:///./src/components/Editor.vue?2ab8","webpack:///./src/components/RuleSwapEdit.vue?0578","webpack:///./src/components/AppNavigation.vue?605f","webpack:///./src/components/MathHeader.vue?f36a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","id","to","locale","navTrainer","navEditor","navFile","this","gLocale","render","__scopeId","isTyping","onEnter","onCancel","onWrite","onCmd","onTypedText","onKey","onDelete","onCopy","onCut","onPaste","MQ","props","initContent","computed","mqmathfield","refVal","gFocusMQref","EditableField","keys","watch","latex","methods","typedText","latexCmd","cmd","focus","latexWrite","write","keyString","keystroke","text","sel","__controller","textarea","val","ctrlr","gClipboard","deleteForward","paste","mounted","updated","StaticMath","document","getElementById","components","AppNavigation","MathKeypad","mathItems","initMath","newMath","ref","tabindex","listSummary","item","last","math","label","rule","editItem","$event","deleteItem","deleteAll","style","title","subtitle","example","example1","example2","example3","example4","staticMathId","isEditing","itemEdited","editCancelled","isErrorNoMatch","toggleToRuleSelect","errorRule","onShowRule","errorNewRule","matched","isLast","editRule","selectRule","noMatch","type","deleteStep","back","delete","isSelected","onSelect","selectedRule","onShowRuleNoMatch","varMessage","clickRuleToSelect","rules","optRule","index","onShowRuleName","vars","varName","varValue","onVarEdited","swap","onSwapEdited","isErrorQuitEditMqFirst","onApply","cancel","for","onEdit","createMQEditField","elID","editEl","editField","MathField","spaceBehavesLikeTab","supSubsRequireOperand","substituteTextarea","createElement","handlers","edit","mathField","enter","emits","String","required","varNewValue","MQMathField","init","onInit","setMQref","select","blur","onChange","newValue","$emit","mqref","mqobj","swapSides","Token","token","TRIVIAL_TOKENS","indexOf","Map","TYPE_LPAREN","TYPE_RPAREN","TYPE_PLUS","TYPE_MINUS","TYPE_TIMES","TYPE_DIVIDE","TYPE_COMMAND","TYPE_SYMBOL","TYPE_WHITESPACE","TYPE_ABS","TYPE_BANG","TYPE_COMMA","TYPE_POWER","TYPE_NUMBER","fact","a","Math","round","frac","b","logn","x","log","rootn","pow","sec","cos","csc","sin","cot","tan","locals","getOwnPropertyNames","k","CHAR_ARG_TOKENS","DEFAULT_OPTS","lexer","equation","constants","opts","Lexer","lex","tokens","buffer","assign","localFunctions","lexExpression","replaceConstants","replaceCommands","addMissingTimes","charMode","hasNext","nextCharToken","next","isCharArgToken","arity","arities","substr","toLowerCase","isStartGroupToken","isEndGroupToken","len","undefined","skipWhitespace","patterns","regex","regexFromStart","RegExp","source","match","exec","charAt","TYPE_FUNCTION","fn","prevToken","extendedTokens","replace","Node","children","getID","node","evaluatedChildren","map","childNode","evaluate","TYPE_INVERSE","child","TYPE_NEGATE","TYPE_PRODUCT","reduce","product","TYPE_SUM","sum","isFinite","level","indent","repeat","str","toString","printTree","toLaTeXSum","toLaTeXProduct","toLaTeXPower","toLaTeXNegate","toLaTeXFunction","parensChild","toLaTeX","childStr","childIndex","nodeStack","nodeStart","reinit","stack","nodeStackToString","nextChild","leap","nextSiblings","restartAt","replaceChildren","pop","TYPE_EOS","oldNodeID","console","oldNode","newNode","prop","newChildren","parser","Parser","parse","cursor","ast","currentToken","accept","addChild","childrenCount","power","parseFloat","cmdToken","marker","expect","abs","factNode","evaluatex","expression","options","variables","initRules","arrRules","arrInit","forEach","compressRule","addFrontRule","initRule","concat","isAllVarsFilled","v","mqifyRules","ruleId","downloadRules","obj","filename","json","JSON","stringify","element","href","encodeURIComponent","download","display","body","appendChild","click","removeChild","showRuleName","showRule","left","right","showRuleNoMatch","stringifyRule","sortedObj","arrKeys","includes","matchRule","mathAst","leftAst","rightAst","prebindings","outbindings","match_bind","unify","astNode","patNode","inbindings","count","bindings","astNodeIter","iterator","patNodeIter","match_bind_aux","outbind","insertBindings","resetMatch","match_select","temp","start","countDiff","astNext","patNext","bindMatch","match_strict","match_strict_aux","newBind","oldBind","rightAstIter","rightAstNode","success","exprAst","exprAstIter","exprAstNode","replaceMatchingChildren","ids","pushedRight","RuleVarEdit","RuleSwapEdit","gRulesJSONref","setVarToAdaptNotAll","setVarToAdaptNoMatch","setVarToAdaptAll","setVarToAdaptOK","setVarToAdapt","selRule","setVarToAdaptWrongRule","RuleSelect","Boolean","staticMathMQ","eventArgs","newRule","onStaticMathClick","newVal","el","onClick","enterMath","onStart","input","onInput","inp","MathHeader","MathItem","MathEnter","localStorage","addItem","uniqueId","setLast","mathId","itemToEdit","find","$refs","itemList","lastIndex","editorTitle","editorRule","editorNew","editorDelete","editorSave","editorCancel","editRuleIndex","forceRerender","editRuleLeft","editRuleRight","editRuleVars","checked","editRuleSwap","editRuleName","jsonRule","isErrorIllegalRuleNeitherVarsNorName","isErrorIllegalIndex","onNew","editorNewButton","editorDeleteButton","editorApplyButton","$router","editorSaveButton","editorCancelButton","deletedRule","deletedRuleIndex","newRuleIndex","hasChanged","isNew","join","isErrorIllegalRuleNeihterVarsNorName","split","fileTitle","fileEdit","fileSave","fileOpen","fileReset","onOpen","fileEditButton","onSave","fileSaveButton","open","onReset","fileResetButton","files","loadOn","onLoad","fr","FileReader","readAsText","onload","ex","alert","loadedRules","fileName","routes","path","component","MathList","Editor","File","router","createRouter","history","createWebHistory","app","createApp","App","use","config","globalProperties","rulesJSON","mount"],"mappings":"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","file":"js/app.5ef3c1e9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/math-form-trainer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./File.vue?vue&type=style&index=0&id=2fb2d7d7&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RuleVarEdit.vue?vue&type=style&index=0&id=034ee373&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MathKeypad.vue?vue&type=style&index=0&id=703d4bf8&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=2d7a03cc&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=1&id=2d7a03cc&scoped=true&lang=css\"","<template>\n  <router-view />\n  <math-keypad\n    class=\"keypad\"\n  ></math-keypad>\n  <app-navigation class=\"nav\"></app-navigation>\n</template>\n\n<script>\nimport AppNavigationVue from \"./components/AppNavigation.vue\";\nimport MathKeypadVue from \"./components/MathKeypad.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    AppNavigation: AppNavigationVue,\n    MathKeypad: MathKeypadVue,\n  },\n};\n</script>\n\n<style>\n/* Global styles */\n* {\n  box-sizing: border-box;\n}\n.math {\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n  background-color: #d7f8bb;\n}\n.editable {\n  border: 1px solid gray;\n  width: 100%;\n  cursor: pointer;\n}\n.btn {\n  padding: 0.8rem 1rem 0.7rem;\n  border: 0.2rem solid #4d4d4d;\n  cursor: pointer;\n  text-transform: capitalize;\n  text-align: center;\n}\n.btn__danger {\n  color: #fff;\n  background-color: #ca3c3c;\n  border-color: #bd2130;\n}\n.btn__danger:focus {\n  outline-color: #c82333;\n}\n.btn__filter {\n  border-color: lightgrey;\n}\n.btn__primary {\n  color: #fff;\n  background-color: #000;\n}\n.btn__top {\n  margin-top: 1rem;\n}\n.btn-group {\n  display: flex;\n  justify-content: space-between;\n}\n.btn-group > * {\n  flex: 1 1 auto;\n}\n.btn-group > * + * {\n  margin-left: 0.8rem;\n}\n.isError {\n  color: #c82333;\n  margin-top: 1rem;\n}\n.label-wrapper {\n  margin: 0;\n  flex: 0 0 100%;\n  text-align: center;\n}\n[class*=\"__lg\"] {\n  display: inline-block;\n  width: 100%;\n  font-size: 1.9rem;\n}\n[class*=\"__lg\"]:not(:last-child) {\n  margin-bottom: 0rem;\n}\n@media screen and (min-width: 620px) {\n  [class*=\"__lg\"] {\n    font-size: 2.4rem;\n  }\n}\n.visually-hidden {\n  position: absolute;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  clip-path: rect(1px, 1px, 1px, 1px);\n  white-space: nowrap;\n}\n[class*=\"stack\"] > * {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.stack-small > * + * {\n  margin-top: 1.25rem;\n}\n/* .stack-large > * + * {\n  margin-top: 2.5rem;\n}\n@media screen and (min-width: 550px) {\n  .stack-small > * + * {\n    margin-top: 1.4rem;\n  }\n  .stack-large > * + * {\n    margin-top: 0;\n  }\n} */\n/* End global styles */\n</style>\n\n<style scoped>\n.nav {\n  padding-bottom: 24rem;\n}\n.keypad {\n  position: fixed;\n  bottom: 0px;\n  width: 100%;\n  max-width: 68rem;\n  background: lightgray;\n}\n</style>","<template>\n  <div id=\"nav\">\n    <router-link :to=\"{ name: 'Trainer' }\">{{ locale.navTrainer }}</router-link>\n    |\n    <router-link :to=\"{ name: 'Editor' }\">{{ locale.navEditor }}</router-link>\n    |\n    <router-link :to=\"{ name: 'File' }\">{{ locale.navFile }}</router-link>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      locale: this.gLocale,\n    };\n  },\n};\n</script>\n\n<style scoped>\n#nav {\n  margin-top: 1rem;\n}\n</style>","import { render } from \"./AppNavigation.vue?vue&type=template&id=5842a196&scoped=true\"\nimport script from \"./AppNavigation.vue?vue&type=script&lang=js\"\nexport * from \"./AppNavigation.vue?vue&type=script&lang=js\"\n\nimport \"./AppNavigation.vue?vue&type=style&index=0&id=5842a196&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5842a196\"\n\nexport default script","<template>\n  <div v-if=\"isTyping\">\n    <br />\n    <div class=\"btn-group\">\n      <span id=\"enter\" class=\"btn\" @click=\"onEnter()\"> Enter </span>\n      <span id=\"cancel\" class=\"btn\" @click=\"onCancel()\"> Cancel </span>\n    </div>\n    <div class=\"btn-group\">\n      <span id=\"digit1\" class=\"key\" @click=\"onWrite('1')\"> 1 </span>\n      <span id=\"digit2\" class=\"key\" @click=\"onWrite('2')\"> 2 </span>\n      <span id=\"digit3\" class=\"key\" @click=\"onWrite('3')\"> 3 </span>\n      <span id=\"digit4\" class=\"key\" @click=\"onWrite('4')\"> 4 </span>\n      <span id=\"digit5\" class=\"key\" @click=\"onWrite('5')\"> 5 </span>\n      <span id=\"digit6\" class=\"key\" @click=\"onWrite('6')\"> 6 </span>\n      <span id=\"digit7\" class=\"key\" @click=\"onWrite('7')\"> 7 </span>\n      <span id=\"digit8\" class=\"key\" @click=\"onWrite('8')\"> 8 </span>\n      <span id=\"digit9\" class=\"key\" @click=\"onWrite('9')\"> 9 </span>\n      <span id=\"digit0\" class=\"key\" @click=\"onWrite('0')\"> 0 </span>\n      <span id=\"digitPi\" class=\"key\" @click=\"onWrite('\\\\pi ')\">\n        &#x1D745;\n      </span>\n    </div>\n    <div class=\"btn-group\">\n      <span id=\"chara\" class=\"key\" @click=\"onWrite('a')\"> a </span>\n      <span id=\"charb\" class=\"key\" @click=\"onWrite('b')\"> b </span>\n      <span id=\"charc\" class=\"key\" @click=\"onWrite('c')\"> c </span>\n      <span id=\"chard\" class=\"key\" @click=\"onWrite('d')\"> d </span>\n      <span id=\"chare\" class=\"key\" @click=\"onWrite('e')\"> e </span>\n      <span id=\"charf\" class=\"key\" @click=\"onWrite('f')\"> f </span>\n      <span id=\"charg\" class=\"key\" @click=\"onWrite('g')\"> g </span>\n      <span id=\"charh\" class=\"key\" @click=\"onWrite('h')\"> h </span>\n      <span id=\"charm\" class=\"key\" @click=\"onWrite('m')\"> m </span>\n      <span id=\"charn\" class=\"key\" @click=\"onWrite('n')\"> n </span>\n      <span id=\"charx\" class=\"key\" @click=\"onWrite('x')\"> x </span>\n      <span id=\"chary\" class=\"key\" @click=\"onWrite('y')\"> y </span>\n      <span id=\"charz\" class=\"key\" @click=\"onWrite('z')\"> z </span>\n      <span id=\"comma\" class=\"key\" @click=\"onWrite(',')\"> , </span>\n    </div>\n    <div class=\"btn-group\">\n      <span id=\"plus\" class=\"key\" @click=\"onCmd('+')\"> + </span>\n      <span id=\"minus\" class=\"key\" @click=\"onCmd('-')\"> - </span>\n      <span id=\"mult\" class=\"key\" @click=\"onCmd('*')\"> * </span>\n      <span id=\"divide\" class=\"key\" @click=\"onCmd('/')\"> / </span>\n      <span id=\"equal\" class=\"key\" @click=\"onCmd('=')\"> = </span>\n      <span id=\"pm\" class=\"key\" @click=\"onCmd('\\\\pm')\"> &plusmn; </span>\n      <span\n        id=\"brackets()\"\n        class=\"key\"\n        @click=\"\n          onWrite('\\\\left(\\\\right)');\n          onKey('Left');\n        \"\n      >\n        ( )\n      </span>\n      <span\n        id=\"brackets[]\"\n        class=\"key\"\n        @click=\"\n          onWrite('\\\\left[\\\\right]');\n          onKey('Left');\n        \"\n      >\n        [ ]\n      </span>\n    </div>\n    <div class=\"btn-group\">\n      <span id=\"power2\" class=\"key\" @click=\"onWrite('^{2}')\">a^2</span>\n      <span id=\"sqrt\" class=\"key\" @click=\"onCmd('\\\\sqrt')\">\\sqrt{a}</span>\n      <span\n        id=\"powerN\"\n        class=\"key\"\n        @click=\"\n          onWrite('^{}');\n          onKey('Left');\n        \"\n        >a^n</span\n      >\n      <span\n        id=\"sqrtN\"\n        class=\"key\"\n        @click=\"\n          onWrite('\\\\sqrt[]{}');\n          onKey('Left Left');\n        \"\n        >\\sqrt[n]{a}</span\n      >\n      <span id=\"fOfX\" class=\"key\" @click=\"onTypedText('f(x)')\">f(x)</span>\n      <span id=\"ePowerX\" class=\"key\" @click=\"onTypedText('e^x')\">e^x</span>\n      <span\n        id=\"ln\"\n        class=\"key\"\n        @click=\"\n          onCmd('\\\\ln');\n          onWrite('\\\\left(\\\\right)');\n          onKey('Left');\n        \"\n        >\\ln</span\n      >\n      <span\n        id=\"sin\"\n        class=\"key\"\n        @click=\"\n          onCmd('\\\\sin');\n          onWrite('\\\\left(\\\\right)');\n          onKey('Left');\n        \"\n        >\\sin</span\n      >\n      <span\n        id=\"cos\"\n        class=\"key\"\n        @click=\"\n          onCmd('\\\\cos');\n          onWrite('\\\\left(\\\\right)');\n          onKey('Left');\n        \"\n        >\\cos</span\n      >\n    </div>\n    <div class=\"btn-group\">\n      <span id=\"keyLeft\" class=\"key\" @click=\"onKey('Left')\"> &larr; </span>\n      <span id=\"keyRight\" class=\"key\" @click=\"onKey('Right')\"> &rarr; </span>\n      <span id=\"keyDelete\" class=\"key\" @click=\"onDelete()\"> DEL </span>\n      <span id=\"keySelect\" class=\"key\" @click=\"onKey('Shift-Left')\"> SEL </span>\n      <span id=\"keyCopy\" class=\"key\" @click=\"onCopy()\"> CPY </span>\n      <span id=\"keyCopy\" class=\"key\" @click=\"onCut()\"> CUT </span>\n      <span id=\"keyPaste\" class=\"key\" @click=\"onPaste()\"> PST </span>\n    </div>\n    <br />\n  </div>\n</template>\n\n<script>\nconst MQ = window.MQ;\nexport default {\n  props: {\n    //mqmathfieldref: Object, //triggering update of Keypad\n  },\n  data() {\n    return {\n      initContent: \"\",\n    };\n  },\n  computed: {\n    isTyping() {\n      if (this.mqmathfield) return true;\n      return false;\n    },\n    mqmathfield() {\n      const refVal = this.gFocusMQref.value;\n      if (refVal instanceof MQ.EditableField && Object.keys(refVal).length > 0)\n        return refVal;\n      return undefined;\n    },\n  },\n  watch: {\n    mqmathfield() {\n      if (this.mqmathfield) this.initContent = this.mqmathfield.latex();\n    },\n  },\n  methods: {\n    onEnter() {\n      // exit mqmathfield calling mqmathfield.options.handlers.enter\n      this.mqmathfield.typedText(\"\\n\");\n    },\n    onCancel() {\n      // console.log(\"Keypad: onCancel: initContent: \", this.initContent);\n      // restore initContent in mqmathfield.latex\n      this.mqmathfield.latex(this.initContent);\n      this.onEnter();\n    },\n    onCmd(latexCmd) {\n      this.mqmathfield.cmd(latexCmd);\n      this.mqmathfield.focus();\n    },\n    onWrite(latexWrite) {\n      this.mqmathfield.write(latexWrite);\n      this.mqmathfield.focus();\n    },\n    onKey(keyString) {\n      this.mqmathfield.keystroke(keyString);\n      this.mqmathfield.focus();\n    },\n    onTypedText(text) {\n      this.mqmathfield.typedText(text);\n      this.mqmathfield.focus();\n    },\n    onDelete() {\n      const sel = this.mqmathfield.__controller.textarea.val();\n      if (!sel) this.mqmathfield.keystroke(\"Shift-Left\");\n      this.mqmathfield.keystroke(\"Del\");\n      this.mqmathfield.focus();\n    },\n    onCopy() {\n      if (!this.mqmathfield) return;\n      const ctrlr = this.mqmathfield.__controller;\n      const text = ctrlr.textarea.val();\n      ctrlr.textarea.val(\"\");\n      if (text) {\n        this.gClipboard = text;\n      }\n      this.mqmathfield.focus();\n    },\n    onCut() {\n      const ctrlr = this.mqmathfield.__controller;\n      const text = ctrlr.textarea.val();\n      ctrlr.textarea.val(\"\");\n      if (text) {\n        this.gClipboard = text;\n        ctrlr.deleteForward();\n      }\n      this.mqmathfield.focus();\n    },\n    onPaste() {\n      const ctrlr = this.mqmathfield.__controller;\n      const text = this.gClipboard;\n      if (text !== \"\") {\n        ctrlr.paste(text);\n      }\n      this.mqmathfield.focus();\n    },\n  },\n  mounted() {\n    // console.log(\"keypad: mounted \");\n  },\n  updated() {\n    MQ.StaticMath(document.getElementById(\"power2\"));\n    MQ.StaticMath(document.getElementById(\"powerN\"));\n    MQ.StaticMath(document.getElementById(\"sqrt\"));\n    MQ.StaticMath(document.getElementById(\"sqrtN\"));\n    MQ.StaticMath(document.getElementById(\"fOfX\"));\n    MQ.StaticMath(document.getElementById(\"ePowerX\"));\n    MQ.StaticMath(document.getElementById(\"ln\"));\n    MQ.StaticMath(document.getElementById(\"sin\"));\n    MQ.StaticMath(document.getElementById(\"cos\"));\n    // console.log(\"keypad: updated \");\n  },\n};\n</script>\n\n<style scoped>\n.key {\n  padding: 0.8rem 1rem 0.7rem;\n  border: 0.2rem solid #4d4d4d;\n  cursor: pointer;\n}\n</style>","import { render } from \"./MathKeypad.vue?vue&type=template&id=703d4bf8&scoped=true\"\nimport script from \"./MathKeypad.vue?vue&type=script&lang=js\"\nexport * from \"./MathKeypad.vue?vue&type=script&lang=js\"\n\nimport \"./MathKeypad.vue?vue&type=style&index=0&id=703d4bf8&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-703d4bf8\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=2d7a03cc&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2d7a03cc&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=2d7a03cc&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2d7a03cc\"\n\nexport default script","<template>\n  <math-header></math-header>\n  <math-enter\n    v-if=\"mathItems.length == 0\"\n    :initMath=\"initMath\"\n    @newmath=\"newMath\"\n  ></math-enter>\n  <h2 v-else id=\"list-summary\" ref=\"listSummary\" tabindex=\"-1\">\n    {{ listSummary }}\n  </h2>\n  <ul>\n    <li v-for=\"item in mathItems\" :key=\"item.id\">\n      <math-item\n        :id=\"item.id\"\n        :last=\"item.last\"\n        :math=\"item.label\"\n        :rule=\"item.rule\"\n        @itemedited=\"editItem(item.id, $event)\"\n        @itemdeleted=\"deleteItem(item.id)\"\n        @deleteall=\"deleteAll\"\n      ></math-item>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport MathHeaderVue from \"./MathHeader.vue\";\nimport MathItemVue from \"./MathItem.vue\";\nimport MathEnterVue from \"./MathEnter.vue\";\nexport default {\n  components: {\n    MathHeader: MathHeaderVue,\n    MathItem: MathItemVue,\n    MathEnter: MathEnterVue,\n  },\n  data() {\n    return {\n      initMath: localStorage.initMath ? localStorage.initMath : \"(x-3)^2\",\n      mathItems: localStorage.mathItems\n        ? JSON.parse(localStorage.mathItems)\n        : [],\n    };\n  },\n  computed: {\n    listSummary: function () {\n      return `Schritt ${this.mathItems.length}`;\n    },\n  },\n  methods: {\n    newMath: function (math) {\n      // clear all  work\n      this.deleteAll();\n      // start new work\n      this.addItem(math);\n      // permanently store newMath\n      this.initMath = math;\n      localStorage.initMath = math;\n    },\n    addItem: function (math) {\n      this.mathItems.push({\n        id: uniqueId(\"item-\"),\n        label: math,\n        rule: {},\n      });\n      setLast(this.mathItems);\n      // permanently store mathItems\n      localStorage.mathItems = JSON.stringify(this.mathItems);\n    },\n    editItem(mathId, obj) {\n      const itemToEdit = this.mathItems.find((item) => item.id === mathId);\n      itemToEdit.rule = obj.rule;\n      this.addItem(obj.math);\n    },\n    deleteItem() {\n      this.mathItems.pop();\n      setLast(this.mathItems);\n      this.$refs.listSummary.focus();\n      // permanently store mathItems\n      localStorage.mathItems = JSON.stringify(this.mathItems);\n    },\n    deleteAll() {\n      // clear all work\n      this.mathItems = [];\n      localStorage.mathItems = \"\";\n    },\n  },\n};\nfunction setLast(itemList) {\n  let lastIndex = itemList.length - 1;\n  if (lastIndex >= 0) itemList[lastIndex].last = true;\n  if (lastIndex > 0) itemList[lastIndex - 1].last = false;\n}\nconst uniqueId = (function () {\n  let id = 1;\n  return (str) => str + id++;\n})();\n</script>\n ","<template>\n  <h1>{{ locale.title }}</h1>\n  <p>{{ locale.subtitle }}</p>\n  <p class=\"exp-top\">{{ locale.example }}:</p>\n  <div>\n    <span class=\"exp-label\">{{ locale.example1 }}:</span>\n    <span class=\"exp-value\">\n      <span class=\"math\" id=\"example1\">(x-3)^2</span>\n    </span>\n  </div>\n  <div>\n    <span class=\"exp-label\">{{ locale.example2 }}:</span>\n    <span\n      class=\"exp-value\"\n      id=\"example2\"\n      v-html=\"'(a-b)^2 \\\\<space> &rArr; \\\\<space> a^2-2ab+b^2'\"\n    ></span>\n  </div>\n  <div>\n    <span class=\"exp-label\">{{ locale.example3 }}:</span>\n    <span\n      class=\"exp-value\"\n      style=\"vertical-align: 0.3rem\"\n      id=\"example3\"\n      v-html=\"'a=x, \\\\<space> b=3'\"\n    ></span>\n  </div>\n  <div class=\"exp-bottom\">\n    <span class=\"exp-label\">{{ locale.example4 }}:</span>\n    <span class=\"exp-value\">\n      <span class=\"math\" id=\"example4\">x^2-2x3+3^2</span>\n    </span>\n  </div>\n</template>\n\n<script>\nlet MQ = window.MQ;\nexport default {\n  data() {\n    return {\n      locale: this.gLocale,\n    };\n  },\n  mounted() {\n    MQ.StaticMath(document.getElementById(\"example1\"));\n    MQ.StaticMath(document.getElementById(\"example2\"));\n    MQ.StaticMath(document.getElementById(\"example3\"));\n    MQ.StaticMath(document.getElementById(\"example4\"));\n  },\n};\n</script>\n\n<style scoped>\n.exp-top {\n  margin-top: 1.2rem;\n}\n.exp-bottom {\n  margin-bottom: 1.2rem;\n}\n.exp-label {\n  display: inline-block;\n  width: 20%;\n  margin-top: 1rem;\n  /* border: 1px solid gray; */\n}\n.exp-value {\n  display: inline-block;\n  width: 80%;\n  vertical-align: 0.6rem;\n  /* border: 1px solid gray; */\n}\n</style>\n","import { render } from \"./MathHeader.vue?vue&type=template&id=c1078422&scoped=true\"\nimport script from \"./MathHeader.vue?vue&type=script&lang=js\"\nexport * from \"./MathHeader.vue?vue&type=script&lang=js\"\n\nimport \"./MathHeader.vue?vue&type=style&index=0&id=c1078422&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-c1078422\"\n\nexport default script","<template>\n  <span class=\"math\" :id=\"staticMathId\">{{ math }}</span>\n  <div v-if=\"!isEditing\">\n    <div v-if=\"isErrorNoMatch\" class=\"editable\" @click=\"toggleToRuleSelect\">\n      <span :id=\"errorRule\" v-html=\"onShowRule(errorNewRule)\"></span>\n    </div>\n    <div\n      v-else-if=\"rule.matched\"\n      :class=\"isLast ? 'editable' : ''\"\n      @click=\"toggleToRuleSelect\"\n    >\n      <span :id=\"editRule\" v-html=\"onShowRule(rule.matched)\"></span>\n    </div>\n    <div v-else class=\"editable\" @click=\"toggleToRuleSelect\">\n      {{ locale.selectRule }}\n    </div>\n    <div class=\"isError\" v-if=\"isErrorNoMatch\">\n      {{ locale.noMatch }}\n    </div>\n    <div class=\"btn-group btn__top\" v-if=\"isLast\">\n      <button type=\"button\" class=\"btn btn__primary\" @click=\"deleteStep\">\n        {{ locale.back }}\n      </button>\n      <button type=\"button\" class=\"btn btn__primary\" @click=\"deleteAll\">\n        {{ locale.delete }}\n      </button>\n    </div>\n  </div>\n  <rule-select\n    v-else\n    :id=\"id\"\n    :rule=\"rule\"\n    :math=\"math\"\n    @itemedited=\"itemEdited\"\n    @editcancelled=\"editCancelled\"\n  ></rule-select>\n</template>\n\n<script>\nimport RuleSelectVue from \"./RuleSelect.vue\";\nimport { showRule } from \"../libs/rule.js\";\nlet MQ = window.MQ;\n//   :class=\"isLast ? 'editable' : ''\"\n\nexport default {\n  components: {\n    RuleSelect: RuleSelectVue,\n  },\n  props: {\n    id: String,\n    last: Boolean,\n    math: String,\n    rule: Object,\n  },\n  emits: [\"itemedited\", \"itemdeleted\", \"deleteall\"],\n  data: function () {\n    return {\n      isEditing: false,\n      isLast: this.last,\n      isErrorNoMatch: false,\n      staticMathMQ: {},\n      locale: this.gLocale,\n      errorNewRule: {},\n    };\n  },\n  computed: {\n    staticMathId() {\n      return \"static-math-\" + this.id;\n    },\n    editRule() {\n      return \"edit-rule-\" + this.id;\n    },\n    errorRule() {\n      return \"error-rule-\" + this.id;\n    },\n  },\n  methods: {\n    onShowRule(rule) {\n      return showRule(rule);\n    },\n    deleteStep() {\n      this.$emit(\"itemdeleted\");\n    },\n    deleteAll() {\n      this.$emit(\"deleteall\");\n    },\n    toggleToRuleSelect() {\n      //console.log(this.$refs.editButton);\n      if (this.isLast) this.isEditing = true;\n    },\n    itemEdited(eventArgs) {\n      let newRule, newMath;\n      newRule = eventArgs.rule;\n      newMath = eventArgs.math;\n      // console.log(\"MathItem:itemEdited: newRule: \", newRule);\n      // console.log(\"MathItem:itemEdited: newMath: \", newMath);\n      this.isEditing = false;\n      if (newMath === this.math) {\n        this.isErrorNoMatch = true;\n        this.errorNewRule = newRule;\n      } else {\n        this.isErrorNoMatch = false;\n        this.$emit(\"itemedited\", { rule: newRule, math: newMath });\n      }\n    },\n    editCancelled() {\n      // console.log(\"ToDoItem: editCancelled: \");\n      this.isEditing = false;\n    },\n    onStaticMathClick() {\n      //   this.gFocusMQobj.set(this.staticMathMQ);\n      //   console.log(\"onStaticMathClick: gFocusMQobj: \", this.gFocusMQobj.get());\n      this.gFocusMQref.value = this.staticMathMQ;\n      console.log(\n        \"onStaticMathClick: gFocusMQref.value: \",\n        this.gFocusMQref.value\n      );\n    },\n  },\n  watch: {\n    last: function (newVal) {\n      this.isLast = newVal;\n    },\n  },\n  mounted() {\n    let el = document.getElementById(this.staticMathId);\n    this.staticMathMQ = MQ.StaticMath(el);\n    el = document.getElementById(this.editRule);\n    MQ.StaticMath(el);\n    el = document.getElementById(this.errorRule);\n    MQ.StaticMath(el);\n  },\n  updated() {\n    let el = document.getElementById(this.editRule);\n    MQ.StaticMath(el);\n    el = document.getElementById(this.errorRule);\n    MQ.StaticMath(el);\n  },\n};\n</script>\n\n<style scoped>\n</style>","<template>\n  <div>\n    <div v-if=\"isSelected\">\n      <span\n        id=\"selectedRule\"\n        class=\"editable\"\n        @click=\"onSelect(selectedRule)\"\n        v-html=\"onShowRuleNoMatch(selectedRule)\"\n      ></span>\n      <div id=\"adaptVar\">{{ varMessage }}</div>\n    </div>\n    <div v-else>\n      <span>{{ locale.clickRuleToSelect }}</span>\n      <div class=\"scrolldown\">\n        <span\n          v-once\n          v-for=\"(optRule, index) in rules\"\n          :key=\"index\"\n          @click=\"onSelect(optRule)\"\n        >\n          <div>{{ onShowRuleName(optRule) }}</div>\n          <span :id=\"'rule_' + index\" v-html=\"onShowRule(optRule)\"></span>\n        </span>\n      </div>\n    </div>\n    <div v-for=\"(varName, index) in selectedRule.vars\" :key=\"index\">\n      <rule-var-edit\n        v-if=\"isSelected && selectedRule.vars && selectedRule.vars.length > 0\"\n        :varName=\"varName\"\n        :varValue=\"selectedRule[varName] ? selectedRule[varName] : ''\"\n        @varedited=\"onVarEdited\"\n      ></rule-var-edit>\n    </div>\n    <div v-if=\"selectedRule.swap\">\n      <rule-swap-edit @swapedited=\"onSwapEdited\"> </rule-swap-edit>\n    </div>\n    <div class=\"isError\" v-if=\"isErrorQuitEditMqFirst\">\n      {{ locale.isErrorQuitEditMqFirst }}\n    </div>\n    <div class=\"btn-group btn__top\">\n      <button type=\"button\" class=\"btn btn__primary\" @click=\"onApply\">\n        {{ locale.apply }}\n      </button>\n      <button type=\"button\" class=\"btn\" @click=\"onCancel\">\n        {{ locale.cancel }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport RuleVarEditVue from \"./RuleVarEdit.vue\";\nimport RuleSwapEditVue from \"./RuleSwapEdit.vue\";\nimport {\n  addFrontRule,\n  matchRule,\n  isAllVarsFilled,\n  mqifyRules,\n  showRuleName,\n  showRule,\n  showRuleNoMatch,\n} from \"../libs/rule.js\";\n// import evaluatex from \"../libs/evaluatex/evaluatex.js\";\nexport default {\n  components: {\n    RuleVarEdit: RuleVarEditVue,\n    RuleSwapEdit: RuleSwapEditVue,\n  },\n  emits: [\"editcancelled\", \"itemedited\"],\n  props: {\n    math: { type: String, required: true },\n    rule: { type: Object, required: true },\n    id: { type: String, required: true },\n  },\n  data() {\n    return {\n      selectedRule: this.rule,\n      rules: addFrontRule(this.rule, this.gRulesJSONref.value),\n      isSelected: false,\n      isErrorQuitEditMqFirst: false,\n      locale: this.gLocale,\n      varMessage: \"\",\n    };\n  },\n  computed: {},\n  methods: {\n    onShowRuleName(rule) {\n      return showRuleName(rule, this.locale);\n    },\n    onShowRule(rule) {\n      return showRule(rule);\n    },\n    onShowRuleNoMatch(rule) {\n      return showRuleNoMatch(rule);\n    },\n    onVarEdited(varName, varValue) {\n      this.isErrorQuitEditMqFirst = false;\n      // save varValue in property of selectedRule\n      if (varValue !== \"\") this.selectedRule[varName] = varValue;\n      else {\n        // empty varValue deletes property\n        delete this.selectedRule[varName];\n        this.varMessage = this.locale.setVarToAdaptNotAll;\n        return;\n      }\n      // match rule to math\n      let match, newMath;\n      ({ match, newMath } = matchRule(this.math, this.selectedRule));\n      if (match === 0) this.varMessage = this.locale.setVarToAdaptNoMatch;\n      else if (match === 1)\n        if (isAllVarsFilled(this.selectedRule)) {\n          this.varMessage = this.locale.setVarToAdaptAll;\n        } else {\n          this.varMessage = this.locale.setVarToAdaptOK;\n        }\n      else this.varMessage = this.locale.setVarToAdapt;\n      let unused = newMath;\n      // update varValue from match if any\n      if (varValue !== \"\") varValue = this.selectedRule[varName];\n    },\n    onSwapEdited() {\n      const left = this.selectedRule.left;\n      this.selectedRule.left = this.selectedRule.right;\n      this.selectedRule.right = left;\n      // reselect selectedRule\n      this.isSelected = false;\n      this.onSelect(this.selectedRule);\n    },\n    onSelect(selRule) {\n      // first quit current rule edit\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true; \n        return;\n      }\n      // skip selected rule without vars\n      if (!selRule.vars) return;\n      // toggle flag\n      if (this.isSelected) {\n        // clear selected rule\n        this.selectedRule = {};\n        this.isSelected = false;\n      } else {\n        // copy selected rule\n        this.selectedRule = JSON.parse(JSON.stringify(selRule));\n        this.isSelected = true;\n        // check selectedRule for any matches and inform user\n        let match, newMath;\n        ({ match, newMath } = matchRule(this.math, this.selectedRule));\n        if (match === 0) this.varMessage = this.locale.setVarToAdaptWrongRule;\n        else this.varMessage = this.locale.setVarToAdapt;\n        let unused = newMath;\n      }\n    },\n    onApply() {\n      // first quit current rule edit\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true;\n        return;\n      }\n      // skip selected rule without vars\n      if (!this.selectedRule.vars) return;\n      if (!isAllVarsFilled(this.selectedRule)) {\n        this.varMessage = this.locale.setVarToAdaptNotAll;\n        return;\n      }\n      // match rule to math\n      const obj = matchRule(this.math, this.selectedRule);\n      const match = obj.match;\n      const newMath = obj.math;\n      // console.log(\"RuleSelect:onApply: match: \", match);\n      // console.log(\"RuleSelect:onApply: newMath: \", newMath);\n      if (match === 1)\n        this.$emit(\"itemedited\", { rule: this.selectedRule, math: newMath });\n      else if (match === 0) this.varMessage = this.locale.setVarToAdaptNoMatch;\n      else this.varMessage = this.locale.setVarToAdapt;\n    },\n    onCancel() {\n      // quit current rule edit first\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true;\n        return;\n      }\n      // reset varMessage\n      this.varMessage = this.locale.setVarToAdapt;\n      // notify\n      this.$emit(\"editcancelled\");\n    },\n  },\n  mounted: function () {\n    mqifyRules(this.rules, this.isSelected);\n  },\n  updated: function () {\n    mqifyRules(this.rules, this.isSelected);\n  },\n};\n</script>\n\n<style scoped>\n#adaptVar {\n  margin-top: 1rem;\n}\n.scrolldown {\n  display: block;\n  width: 100%;\n  height: 20rem;\n  border-spacing: 0;\n  border: 1px solid gray;\n  text-align: left;\n  /* Set vertical scroll */\n  overflow-y: auto;\n  /* Hide the horizontal scroll */\n  overflow-x: hidden;\n}\n.scrolldown span {\n  display: block;\n  width: 100%;\n  border-bottom: 1px solid gray;\n}\n</style>","<template>\n  <label :for=\"varName\">{{ varName }} = </label>\n  <span :id=\"varName\" @click=\"onEdit\"></span>\n</template>\n  \n<script>\nimport { createMQEditField } from \"../libs/mq.js\";\nexport default {\n  components: {},\n  emits: [\"varedited\"],\n  props: {\n    varName: { type: String, required: true },\n    varValue: { required: true },\n  },\n  data() {\n    return {\n      varNewValue: this.varValue,\n      MQMathField: {},\n      locale: this.gLocale,\n    };\n  },\n  computed: {\n    init() {\n      return this.varValue !== \"\" ? this.varValue : \"?\";\n    },\n  },\n  watch: {\n    varValue() {\n      // reinit on changes of varValue\n      this.onInit();\n    },\n  },\n  methods: {\n    onInit() {\n      // init MQMathField\n      this.MQMathField.latex(this.init);\n      // console.log(\"RuleVarEdit: onInit: init: \", this.init);\n    },\n    onEdit() {\n      if (setMQref(this.gFocusMQref, this.MQMathField)) {\n        // selected MQMathField\n        this.MQMathField.focus();\n        // clear default text\n        const latex = this.MQMathField.latex();\n        if (latex === \"?\") {\n          this.MQMathField.select();\n          this.MQMathField.keystroke(\"Del\");\n          this.varNewValue = \"\";\n        }\n      } else {\n        // no focus on unselected MQMathField\n        // first hit Enter on selected MQMathField to quit edit\n        this.MQMathField.blur();\n      }\n    },\n    onChange(newValue) {\n      // get input from user\n      this.varNewValue = newValue;\n    },\n    onEnter() {\n      // clear focus on MQMathField\n      this.MQMathField.blur();\n      // clear Keypad\n      this.gFocusMQref.value = {};\n      // send input from user\n      this.$emit(\"varedited\", this.varName, this.varNewValue);\n    },\n  },\n  mounted: function () {\n    this.MQMathField = createMQEditField(\n      this.varName,\n      this.onChange,\n      this.onEnter\n    );\n    this.onInit();\n    // console.log(\"RuleVarEdit: mounted\");\n  },\n  updated() {\n    // console.log(\"RuleVarEdit: updated\");\n  },\n};\nfunction setMQref(mqref, mqobj) {\n  if (!mqref.value.id) mqref.value = mqobj;\n  else if (mqref.value.id !== mqobj.id) {\n    return false;\n  }\n  return true;\n}\n</script>\n\n<style scoped>\nspan {\n  display: inline-block;\n  padding-left: 8px;\n  width: 92%;\n}\nlabel {\n  display: inline-block;\n  width: 8%;\n}\n</style>","export function createMQEditField(elID, onEdit, onEnter) {\n  let MQ = window.MQ;\n  const editEl = document.getElementById(elID);\n  const editField = MQ.MathField(editEl, {\n    spaceBehavesLikeTab: true,\n    supSubsRequireOperand: true,\n    substituteTextarea: function () {\n      return document.createElement(\"SPAN\");\n    },\n    handlers: {\n      edit: function (mathField) {\n        // retrieve, in LaTeX format, the math that was typed:\n        onEdit(mathField.latex());\n      },\n      enter: function () {\n        // console.log(\"MQ: enter:\");\n        onEnter();\n      }\n    }\n  });\n  return editField;\n}\n","import { render } from \"./RuleVarEdit.vue?vue&type=template&id=034ee373&scoped=true\"\nimport script from \"./RuleVarEdit.vue?vue&type=script&lang=js\"\nexport * from \"./RuleVarEdit.vue?vue&type=script&lang=js\"\n\nimport \"./RuleVarEdit.vue?vue&type=style&index=0&id=034ee373&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-034ee373\"\n\nexport default script","<template>\n  <span class=\"editable\" @click=\"onChange\">{{ locale.swapSides }}</span>\n</template>\n\n<script>\nexport default {\n  components: {},\n  emits: [\"swapedited\"],\n  data() {\n    return {\n      locale: this.gLocale,\n    };\n  },\n  methods: {\n    onChange() {\n      this.$emit(\"swapedited\");\n    },\n  },\n};\n</script>\n\n<style scoped>\nspan {\n  display: inline-block;\n  padding-left: 8px;\n  margin-left: 8%;\n  width: 92%;\n}\n</style>","import { render } from \"./RuleSwapEdit.vue?vue&type=template&id=64724c7a&scoped=true\"\nimport script from \"./RuleSwapEdit.vue?vue&type=script&lang=js\"\nexport * from \"./RuleSwapEdit.vue?vue&type=script&lang=js\"\n\nimport \"./RuleSwapEdit.vue?vue&type=style&index=0&id=64724c7a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-64724c7a\"\n\nexport default script","/**\n * Token represents a lexical token. It has a type and a value.\n * @param type (String) Token type. A list of types is found in \"utils/tokens.js\".\n * @param value Value of the token.\n */\nexport default class Token {\n  constructor(type, value = \"\") {\n    this.type = type;\n    this.value = value;\n    this.name = null; // Used in function and command tokens to retain the fn name when minified\n  }\n\n  equals(token) {\n    return this.type === token.type &&\n      this.value === token.value;\n  }\n\n  toString() {\n    if (TRIVIAL_TOKENS.indexOf(this.type) >= 0) {\n      return this.type;\n    }\n\n    const val = typeof this.value === \"function\" ? this.name : this.value;\n\n    // return `${ this.type }[${ val }]`;\n    return val + \" \";\n  }\n\n  static TYPE_LPAREN = \"LPAREN\";\n  static TYPE_RPAREN = \"RPAREN\";\n  static TYPE_PLUS = \"PLUS\";\n  static TYPE_MINUS = \"MINUS\";\n  static TYPE_TIMES = \"TIMES\";\n  static TYPE_DIVIDE = \"DIVIDE\";\n  static TYPE_COMMAND = \"COMMAND\";\n  static TYPE_SYMBOL = \"SYMBOL\";\n  static TYPE_WHITESPACE = \"WHITESPACE\";\n  static TYPE_ABS = \"ABSOLUTEVAL\";\n  static TYPE_BANG = \"BANG\";\n  static TYPE_COMMA = \"COMMA\";\n  static TYPE_POWER = \"POWER\";\n  static TYPE_NUMBER = \"NUMBER\";\n\n  static patterns = new Map([\n    [Token.TYPE_LPAREN, /(\\(|\\[|{|\\\\left\\(|\\\\left\\[)/], // Match (, [, {, \\left(, \\left[\n    [Token.TYPE_RPAREN, /(\\)|]|}|\\\\right\\)|\\\\right])/], // Match ), ], }, \\right), \\right]\n    [Token.TYPE_PLUS, /\\+/],\n    [Token.TYPE_MINUS, /-/],\n    [Token.TYPE_TIMES, /\\*/],\n    [Token.TYPE_DIVIDE, /\\//],\n    [Token.TYPE_COMMAND, /\\\\[A-Za-z]+/],\n    // [Token.TYPE_SYMBOL, /[A-Za-z_][A-Za-z_0-9]*/],\n    [Token.TYPE_SYMBOL, /[A-Za-z](_[0-9])?/],\n    [Token.TYPE_WHITESPACE, /\\s+/], // Whitespace\n    [Token.TYPE_ABS, /\\|/],\n    [Token.TYPE_BANG, /!/],\n    [Token.TYPE_COMMA, /,/],\n    [Token.TYPE_POWER, /\\^/],\n    [Token.TYPE_NUMBER, /\\d+(\\.\\d+)?/]\n  ]);\n}\n\n/**\n * Trivial tokens are those that can only have a single value, so printing their value is unnecessary.\n */\nconst TRIVIAL_TOKENS = [\"TPLUS\", \"TMINUS\", \"TTIMES\", \"TDIVIDE\", \"TWS\", \"TABS\", \"TBANG\", \"TCOMMA\", \"TPOWER\"];\n","// List of arities for LaTeX commands. Since LaTeX command arguments aren't delimited by parens, we'll cheat a bit and provide a bit of context to the parser about how to parse each command.\n\n/**\n * List of arities for LaTeX commands. Arguments for LaTeX commands aren't delimited by parens, so the compiler needs to know how many arguments to expect for each function.\n */\nexport default {\n    \"frac\": 2,\n    \"sqrt\": 1,\n    \"sin\": 1,\n    \"cos\": 1,\n    \"tan\": 1,\n    \"asin\": 1,\n    \"acos\": 1,\n    \"atan\": 1,\n    \"sec\": 1,\n    \"csc\": 1,\n    \"cot\": 1,\n    \"asec\": 1,\n    \"acsc\": 1,\n    \"acot\": 1,\n};","/*\nJavascript's Math API omits some important mathematical functions. These are included here.\n */\n\nexport const fact = function fact(a) {\n    a = Math.round(a);\n    let result = 1;\n\n    if (a < 0) {\n        throw \"Can't factorial a negative.\";\n    }\n\n    for (a; a > 1; a--) {\n        result *= a;\n    }\n    return result;\n};\n\nexport const frac = function frac(a, b) {\n    return a / b;\n};\n\nexport const logn = function logn(x, b) {\n    return Math.log(x) / Math.log(b);\n};\n\nexport const rootn = function rootn(x, n) {\n    return Math.pow(x, 1 / n);\n};\n\nexport const sec = function src(x) {\n    return 1 / Math.cos(x);\n};\n\nexport const csc = function csc(x) {\n    return 1 / Math.sin(x);\n};\n\nexport const cot = function cot(x) {\n    return 1 / Math.tan(x);\n};\n\nconst locals = { fact, frac, logn, rootn, sec, csc, cot };\n\n// Copy things from Math. Can't use Object.assign since Math has non-enumerable properties.\nfor (const k of Object.getOwnPropertyNames(Math)) {\n    locals[k] = Math[k];\n}\n\nexport default locals;\n","import Token from \"./Token.js\";\nimport arities from \"./util/arities.js\";\nimport localFunctions from \"./util/localFunctions.js\";\n\n// Single-arg tokens are those that, when in LaTeX mode, read only one character as their argument OR a block delimited by { }. For example, `x ^ 24` would be read as `SYMBOL(x) POWER NUMBER(2) NUMBER(4).\nconst CHAR_ARG_TOKENS = [Token.TYPE_POWER, Token.TYPE_COMMAND];\n\nconst DEFAULT_OPTS = {\n  latex: false\n};\n\n/**\n * The lexer reads a math expression and breaks it down into easily-digestible Tokens.\n * A list of valid tokens can be found lower in this file.\n * @param equation (String) The equation to lex.\n * @param constants (Object) An object of functions and variables.\n * @param opts Options.\n * @returns {Array} An array of Tokens.\n */\nexport default function lexer(equation, constants = {}, opts = DEFAULT_OPTS) {\n  let l = new Lexer(equation, constants, opts);\n  l.lex();\n  // toString() each token and concatenate into a big string. Useful for debugging.\n  //l.tokens.toString = () => l.tokens.map(token => token.toString()).join(\" \");\n  // console.log(\"lexer: lexer: tokens-string: \", l.tokens.join(\" \"));\n  return l.tokens;\n}\n\nclass Lexer {\n  constructor(buffer, constants, opts) {\n    this.buffer = buffer;\n    this.constants = Object.assign({}, constants, localFunctions);\n    this.opts = opts;\n    this.tokens = [];\n  }\n\n  lex() {\n    this.lexExpression();\n    this.replaceConstants();\n    this.replaceCommands();\n    this.addMissingTimes();\n  }\n\n  /**\n   * Lexes an expression or sub-expression.\n   */\n  lexExpression(charMode = false) {\n    while (this.hasNext()) {\n      let token = charMode ? this.nextCharToken() : this.next();\n      this.tokens.push(token);\n\n      if (this.opts.latex && isCharArgToken(token)) {\n        let arity = 1;\n        if (token.type === Token.TYPE_COMMAND) {\n          arity = arities[token.value.substr(1).toLowerCase()];\n        }\n        for (let i = 0; i < arity; i++) {\n          this.lexExpression(true);\n        }\n      } else if (isStartGroupToken(token)) {\n        this.lexExpression(false);\n      }\n\n      if (charMode || isEndGroupToken(token)) {\n        return;\n      }\n    }\n  }\n\n  hasNext() {\n    return this.buffer.length > 0;\n  }\n\n  /**\n   * Retrieves the next non-whitespace token from the buffer.\n   * @param len\n   * @returns {Token}\n   */\n  next(len = undefined) {\n    this.skipWhitespace();\n\n    if (!this.hasNext()) {\n      throw \"Lexer error: reached end of stream\";\n    }\n\n    // Try to match each pattern in tokenPatterns to the remaining buffer\n    for (const [type, regex] of Token.patterns) {\n      // Force the regex to match only at the beginning of the string\n      const regexFromStart = new RegExp(/^/.source + regex.source);\n\n      // When `len` is undefined, substr reads to the end\n      let match = regexFromStart.exec(this.buffer.substr(0, len));\n      if (match) {\n        this.buffer = this.buffer.substr(match[0].length);\n        return new Token(type, match[0]);\n      }\n    }\n\n    // TODO: Meaningful error\n    throw \"Lexer error: can't match any token\";\n  }\n\n  /**\n   * Tokenizes the next single character of the buffer, unless the following token is a LaTeX command, in which case the entire command is tokenized.\n   */\n  nextCharToken() {\n    this.skipWhitespace();\n    if (this.buffer.charAt(0) === \"\\\\\") {\n      return this.next();\n    }\n    return this.next(1);\n  }\n\n  replaceCommands() {\n    for (const token of this.tokens) {\n      if (token.type === Token.TYPE_COMMAND) {\n        // save name of COMMAND function for debugging later\n        token.name = token.value.substr(1).toLowerCase();\n        switch (token.name) {\n          case \"cdot\": // replace cdot with times\n            token.type = Token.TYPE_TIMES;\n            token.value = \"*\";\n            break;\n          case \"left(\":\n            token.type = Token.TYPE_LPAREN;\n            token.value = \"(\";\n            break;\n          case \"right(\":\n            token.type = Token.TYPE_RPAREN;\n            token.value = \"(\";\n            break;\n          case \"left[\":\n            token.type = Token.TYPE_LPAREN;\n            token.value = \"[\";\n            break;\n          case \"right]\":\n            token.type = Token.TYPE_RPAREN;\n            token.value = \"]\";\n            break;\n          default:\n            // set value to COMMAND function\n            token.value = this.constants[token.name];\n        }\n        // console.log(\"lexer: replaceCommands: token: \",token);\n      }\n    }\n  }\n\n  replaceConstants() {\n    for (const token of this.tokens) {\n      if (token.type === Token.TYPE_SYMBOL) {\n        // console.log(\"lexer: replaceConstants: token: \",token);\n        // Symbols will need to be looked up during the evaluation phase.\n        // If the symbol refers to things defined in either Math or\n        // the locals, compile them, to prevent slow lookups later.\n        if (typeof this.constants[token.value] === \"function\") {\n          token.type = Token.TYPE_FUNCTION;\n          token.name = token.value; // Save name of function for debugging later\n          token.value = this.constants[token.value];\n        } else if (typeof this.constants[token.value] === \"number\") {\n          token.type = Token.TYPE_NUMBER;\n          token.value = token.fn = this.constants[token.value];\n        }\n      }\n    }\n  }\n\n  addMissingTimes() {\n    let prevToken = undefined;\n    let extendedTokens = [];\n    for (const token of this.tokens) {\n      if (token.type === Token.TYPE_SYMBOL) {\n        if (\n          prevToken &&\n          (prevToken.type === Token.TYPE_SYMBOL ||\n            prevToken.type === Token.TYPE_NUMBER ||\n            prevToken.type === Token.TYPE_RPAREN)\n        ) {\n          extendedTokens.push(new Token(Token.TYPE_TIMES, \"*\"));\n        }\n      } else if (token.type === Token.TYPE_NUMBER) {\n        if (\n          prevToken &&\n          (prevToken.type === Token.TYPE_SYMBOL ||\n            prevToken.type === Token.TYPE_RPAREN)\n        ) {\n          extendedTokens.push(new Token(Token.TYPE_TIMES, \"*\"));\n        }\n      } else if (token.type === Token.TYPE_LPAREN) {\n        if (\n          prevToken &&\n          (prevToken.type === Token.TYPE_NUMBER ||\n            prevToken.type === Token.TYPE_SYMBOL)\n        ) {\n          extendedTokens.push(new Token(Token.TYPE_TIMES, \"*\"));\n        }\n      }\n      prevToken = token;\n      extendedTokens.push(token);\n    }\n    this.tokens = extendedTokens;\n  }\n\n  /**\n   * Removes whitespace from the beginning of the buffer.\n   */\n  skipWhitespace() {\n    const regex = new RegExp(\n      /^/.source + Token.patterns.get(Token.TYPE_WHITESPACE).source\n    );\n    this.buffer = this.buffer.replace(regex, \"\");\n  }\n}\n\nfunction isCharArgToken(token) {\n  return CHAR_ARG_TOKENS.indexOf(token.type) !== -1;\n}\n\nfunction isStartGroupToken(token) {\n  return token.type === Token.TYPE_LPAREN && token.value === \"{\";\n}\n\nfunction isEndGroupToken(token) {\n  return token.type === Token.TYPE_RPAREN && token.value === \"}\";\n}\n","/**\n * Node represents a node in an abstract syntax tree. Nodes have the following properties:\n *  - A type, which determines how it is evaluated;\n *  - A value, such as a number or function; and\n *  - An ordered list of children.\n */\nexport default class Node {\n  constructor(type, value = \"\") {\n    this.type = type;\n    this.value = value;\n    this.name = null; // Used in function and command nodes to retain the fn name when minified\n    this.children = [];\n    this.id = getID();\n  }\n\n  /**\n   * Adds a node to the list of children and returns this Node.\n   * @param node Child node to addChild.\n   * @returns {Node} This node.\n   */\n  addChild(node) {\n    this.children.push(node);\n    return this;\n  }\n  /**\n   * Returns this Node's first child.\n   */\n  get child() {\n    return this.children[0];\n  }\n  /**\n   * Returns number of children.\n   */\n  get childrenCount() {\n    return this.children.length;\n  }\n\n  /**\n   * Evaluates this Node and all child nodes recursively, returning the numerical result of this Node.\n   */\n  evaluate(vars) {\n    let result = 0;\n\n    switch (this.type) {\n      case Node.TYPE_FUNCTION:\n        const evaluatedChildren = this.children.map((childNode) => childNode.evaluate(vars));\n        result = this.value.apply(this, evaluatedChildren);\n        break;\n      case Node.TYPE_INVERSE:\n        result = 1.0 / this.child.evaluate(vars);\n        break;\n      case Node.TYPE_NEGATE:\n        result = -this.child.evaluate(vars);\n        break;\n      case Node.TYPE_NUMBER:\n        result = this.value;\n        break;\n      case Node.TYPE_POWER:\n        result = Math.pow(\n          this.children[0].evaluate(vars),\n          this.children[1].evaluate(vars)\n        );\n        break;\n      case Node.TYPE_PRODUCT:\n        result = this.children.reduce(\n          (product, child) => product * child.evaluate(vars),\n          1\n        );\n        break;\n      case Node.TYPE_SUM:\n        result = this.children.reduce(\n          (sum, child) => sum + child.evaluate(vars),\n          0\n        );\n        break;\n      case Node.TYPE_SYMBOL:\n        if (isFinite(vars[this.value])) {\n          return vars[this.value];\n        }\n        throw \"Symbol \" + this.value + \" is undefined or not a number\";\n    }\n\n    return result;\n  }\n\n  /**\n   * Prints a tree-like representation of this Node and all child Nodes to the console.\n   * Useful for debugging parser problems.\n   * If printTree() is called on the root node, it prints the whole AST!\n   * @param level (Integer, Optional) Initial level of indentation. You shouldn't need to use this.\n   */\n  printTree(level = 0) {\n    // Generate the indent string from the current `level`.\n    // Child nodes will have a greater `level` and will appear indented.\n    let indent = \"  \".repeat(level);\n\n    let str = \"\\n\" + indent + this.toString();\n    // Print each child.\n    for (let i in this.children) {\n      str += this.children[i].printTree(level + 1);\n    }\n    return str;\n  }\n\n  toString() {\n    const val = typeof this.value === \"function\" ? this.name : this.value;\n    // return `${this.children.length} ${this.type} [${val}] id ${this.id}`;\n    return `${this.children.length} ${this.type} [${val}] ${this.id}`;\n  }\n\n  toLaTeX() {\n    let str = \"\";\n    switch (this.type) {\n      case Node.TYPE_NUMBER:\n      case Node.TYPE_SYMBOL:\n        str += this.value;\n        break;\n      case Node.TYPE_SUM:\n        str += toLaTeXSum(this);\n        break;\n      case Node.TYPE_PRODUCT:\n        str += toLaTeXProduct(this);\n        break;\n      case Node.TYPE_POWER:\n        str += toLaTeXPower(this);\n        break;\n      // case Node.TYPE_INVERSE:\n      //   str += \"1/ \" + this.child.toLaTeX();\n      //   break;\n      case Node.TYPE_NEGATE:\n        str += toLaTeXNegate(this);\n        break;\n      case Node.TYPE_FUNCTION:\n        str += toLaTeXFunction(this);\n        break;\n    }\n    return str;\n\n    function toLaTeXPower(node) {\n      let str = \"\";\n      for (let i in node.children) {\n        if (i == 0) {\n          str += parensChild(node.children[i]);\n        } else {\n          str += \"^\" + parensChild(node.children[i]);\n        }\n      }\n      return str;\n\n      function parensChild(child) {\n        let str = \"\";\n        if (\n          child.type === Node.TYPE_NEGATE ||\n          child.type === Node.TYPE_SUM ||\n          child.type === Node.TYPE_PRODUCT ||\n          child.type === Node.TYPE_POWER\n        )\n          str += \"\\\\left(\" + child.toLaTeX() + \"\\\\right)\";\n        else {\n          str += child.toLaTeX();\n        }\n        return str;\n      }\n    }\n    function toLaTeXProduct(node) {\n      let str = \"\";\n      for (let i in node.children) {\n        if (i == 0) {\n          str += parensChild(node.children[i]);\n        } else {\n          str += \"\\\\cdot \" + parensChild(node.children[i]);\n        }\n      }\n      return str;\n\n      function parensChild(child) {\n        let str = \"\";\n        if (child.type === Node.TYPE_NEGATE || child.type === Node.TYPE_SUM)\n          str += \"\\\\left(\" + child.toLaTeX() + \"\\\\right)\";\n        else {\n          str += child.toLaTeX();\n        }\n        return str;\n      }\n    }\n    function toLaTeXSum(node) {\n      let str = \"\",\n        childStr = \"\";\n      for (let i in node.children) {\n        childStr = node.children[i].toLaTeX();\n        if (i == 0) {\n          str += childStr;\n        } else {\n          if (childStr.charAt(0) === \"-\") str += childStr;\n          else str += \"+\" + childStr;\n        }\n      }\n      return str;\n    }\n    function toLaTeXNegate(node) {\n      let str = \"-\";\n      if (\n        node.child.type === Node.TYPE_SUM ||\n        // node.child.type === Node.TYPE_PRODUCT ||\n        node.child.type === Node.TYPE_NEGATE\n      )\n        str += \"\\\\left(\" + node.child.toLaTeX() + \"\\\\right)\";\n      else str += node.child.toLaTeX();\n      return str;\n    }\n    function toLaTeXFunction(node) {\n      let str = \"\\\\\" + node.name;\n      for (const i in node.children) {\n        str += \"{\" + node.children[i].toLaTeX() + \"}\";\n      }\n      return str;\n    }\n  }\n\n  iterator() {\n    let nodeStart = this;\n    let node, childIndex, nodeStack;\n    reinit();\n\n    return {\n      stack: nodeStackToString,\n      next: nextChild,\n      leap: nextSiblings,\n      reinit: reinit,\n      restartAt: restartAt,\n      replace: replace,\n      replaceChildren: replaceChildren\n    };\n\n    function reinit() {\n      node = nodeStart;\n      childIndex = -1;\n      nodeStack = [];\n    }\n\n    function nextChild() {\n      if (childIndex >= 0)\n        if (childIndex < node.children.length) {\n          // index points to next child\n          // current node is parent of next child\n          const next = node.children[childIndex];\n          // for next child save its parent node and its child index\n          nodeStack.push({ node: node, childIndex: childIndex });\n          // init iterator for next node\n          node = next;\n          childIndex = 0;\n          return node;\n        } else {\n          // no more children on this parent node\n          return nextSiblings();\n        }\n      else {\n        // set index for first child of nodestart\n        childIndex = 0;\n        // first time return nodeStart\n        return node;\n      }\n    }\n    function nextSiblings() {\n      // no next child\n      if (nodeStack.length > 0) {\n        // get previous from stack\n        ({ node, childIndex } = nodeStack.pop());\n        // continue with previous\n        // console.log(\"iterator:nextSiblings: node: \", node.toString());\n        // set index for next child\n        childIndex++;\n        return nextChild();\n      } else {\n        // console.log(\"iterator: EndOfStack: node: \", node.toString());\n        return new Node(Node.TYPE_EOS, \"EndOfStack\");\n      }\n    }\n    function restartAt(oldNodeID) {\n      reinit();\n      // set index for first child of nodeStart after reinit\n      childIndex = 0;\n      let next;\n      while (node.id !== oldNodeID) {\n        next = nextChild();\n        if (next.type === Node.TYPE_EOS) {\n          console.log(\"Iterator:restartAt: nodeID not found: \", oldNodeID);\n          throw \"\";\n        }\n      }\n    }\n    function replace(oldNode, newNode) {\n      if (nodeStack.length > 0) {\n        // get parent of oldNode back from stack\n        ({ node, childIndex } = nodeStack.pop());\n        if (childIndex >= 0 && childIndex < node.children.length) {\n          // if parent child is oldNode\n          if (node.children[childIndex].id === oldNode.id) {\n            // replace oldNode with newNode as parent child\n            node.children[childIndex] = newNode;\n          } else {\n            return false;\n          }\n        } else {\n          console.log(\"ERROR: Node:iterator:replace: index out of bound\");\n          return false;\n        }\n        // push back updated parent\n        nodeStack.push({ node, childIndex });\n      } else {\n        // stack empty, so nodeStart itself gets changed\n        if (node.id === oldNode.id) {\n          // replace nodeStart props from newNode\n          for (let prop in nodeStart) {\n            nodeStart[prop] = newNode[prop];\n          }\n          node = nodeStart;\n        } else return false;\n      }\n      // return success\n      return true;\n    }\n    function replaceChildren(oldNode, newChildren) {\n      // if this node is oldNode\n      if (node.id === oldNode.id) {\n        // replace this node children with newChildren\n        node.children = newChildren;\n      } else {\n        return false;\n      }\n      // return success\n      return true;\n    }\n    function nodeStackToString() {\n      let str = \"\";\n      for (let item of nodeStack) {\n        str += \"\\n\" + item.node.toString() + \" @ \" + item.index;\n      }\n      // console.log(\"iterator: nodeStack: \", str);\n      return str;\n    }\n  }\n\n  static TYPE_SYMBOL = \"SYMBOL\";\n  static TYPE_NUMBER = \"NUMBER\";\n  static TYPE_SUM = \"SUM\";\n  static TYPE_PRODUCT = \"PRODUCT\";\n  static TYPE_POWER = \"POWER\";\n  static TYPE_NEGATE = \"NEGATE\";\n  static TYPE_FUNCTION = \"FUNCTION\";\n  static TYPE_INVERSE = \"INVERSE\";\n\n  static TYPE_EOS = \"EOS\"; // end of iterator stack\n}\n\nconst UNARY_NODES = [\"FACTORIAL\", \"FUNCTION\", \"INVERSE\", \"NEGATE\"];\nlet unused = UNARY_NODES;\n\nconst getID = (function () {\n  let id = 1;\n  // return { next: () => id++ }\n  return () => id++;\n})();\n","import Node from \"./Node.js\";\nimport Token from \"./Token.js\";\nimport arities from \"./util/arities.js\";\nimport { fact } from \"./util/localFunctions.js\";\n\n// Parser\n// ======\n\n// The parser takes a list of Token objects and tries to construct a syntax\n// tree that represents the math to be evaluated, taking into account the\n// correct order of operations.\n// This is a simple recursive-descent parser based on [Wikipedia's example](https://en.wikipedia.org/wiki/Recursive_descent_parser).\n\nexport default function parser(tokens) {\n  let p = new Parser(tokens);\n  return p.parse();\n}\n\nclass Parser {\n  constructor(tokens = []) {\n    this.cursor = 0;\n    this.tokens = tokens;\n  }\n\n  get currentToken() {\n    return this.tokens[this.cursor];\n  }\n\n  get prevToken() {\n    return this.tokens[this.cursor - 1];\n  }\n\n  parse() {\n    //this.preprocess();\n    let ast = this.sum();\n    //ast = ast.simplify();\n\n    // Throw an exception if there are still tokens remaining after parsing\n    if (this.currentToken !== undefined) {\n      console.log(\"parser: parse: ast: \", ast.printTree());\n      throw (\n        \"Parsing error: Expected end of input, but got \" +\n        this.currentToken.type +\n        \" \" +\n        this.currentToken.value\n      );\n    }\n\n    return ast;\n  }\n\n  //preprocess() {\n  // This function used to contain procedures to remove whitespace\n  // tokens and replace symbol tokens with functions, but that work\n  // has been moved to the lexer in order to keep the parser more\n  // lightweight.\n  //}\n\n  /**\n   * Accepts the current token if it matches the given type.\n   * If it does, the cursor is incremented and this method returns true.\n   * If it doesn't, the cursor stays where it is and this method returns false.\n   * @param type Type of token to accept.\n   * @returns {boolean} True if the token was accepted.\n   */\n  accept(type) {\n    if (this.currentToken && this.currentToken.type === type) {\n      this.cursor++;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Accepts the current token if it matches the given type.\n   * If it does, the cursor is incremented.\n   * If it doesn't, an exception is raised.\n   * @param type\n   */\n  expect(type) {\n    if (!this.accept(type)) {\n      throw (\n        \"Expected \" +\n        type +\n        \" but got \" +\n        (this.currentToken ? this.currentToken.toString() : \"end of input.\")\n      );\n    }\n  }\n\n  // Rules\n  // -----\n\n  /**\n   * Parses a math expression with\n   */\n  sum() {\n    let node = new Node(Node.TYPE_SUM);\n    node.addChild(this.product());\n\n    while (true) {\n      // Continue to accept chained addends\n      if (this.accept(Token.TYPE_PLUS)) {\n        node.addChild(this.product());\n      } else if (this.accept(Token.TYPE_MINUS)) {\n        node.addChild(new Node(Node.TYPE_NEGATE).addChild(this.product()));\n      } else {\n        break;\n      }\n    }\n    if (node.childrenCount > 1) return node;\n    else return node.child;\n  }\n\n  product() {\n    let node = new Node(Node.TYPE_PRODUCT);\n    node.addChild(this.power());\n\n    while (true) {\n      // Continue to accept chained multiplicands\n\n      if (this.accept(Token.TYPE_TIMES)) {\n        node.addChild(this.power());\n      } else if (this.accept(Token.TYPE_DIVIDE)) {\n        node.addChild(new Node(Node.TYPE_INVERSE).addChild(this.power()));\n      } else if (this.accept(Token.TYPE_LPAREN)) {\n        this.cursor--;\n        node.addChild(this.power());\n      } else {\n        break;\n      }\n    }\n    if (node.childrenCount > 1) return node;\n    else return node.child;\n  }\n\n  power() {\n    let node = new Node(Node.TYPE_POWER);\n    node.addChild(this.val());\n\n    // If a chained power is encountered (e.g. a ^ b ^ c), treat it like\n    // a ^ (b ^ c)\n    if (this.accept(Token.TYPE_POWER)) {\n      node.addChild(this.power());\n    }\n    if (node.childrenCount > 1) return node;\n    else return node.child;\n  }\n\n  val() {\n    // Don't create a new node immediately, since we need to parse postfix\n    // operators like factorials, which come after a value.\n    let node = {};\n\n    if (this.accept(Token.TYPE_SYMBOL)) {\n      node = new Node(Node.TYPE_SYMBOL, this.prevToken.value);\n    } else if (this.accept(Token.TYPE_NUMBER)) {\n      node = new Node(Node.TYPE_NUMBER, parseFloat(this.prevToken.value));\n    } else if (this.accept(Token.TYPE_COMMAND)) {\n      const cmdToken = this.prevToken;\n      node = new Node(Node.TYPE_FUNCTION, cmdToken.value);\n      node.marker = cmdToken.name;\n      node.name = cmdToken.name;\n      for (let i = 0; i < arities[cmdToken.name]; i++) {\n        node.addChild(this.val());\n      }\n      // console.log(\"parser: val: TYPE_COMMAND: node: \", node);\n    } else if (this.accept(Token.TYPE_FUNCTION)) {\n      node = new Node(Node.TYPE_FUNCTION, this.prevToken.value);\n      node.name = this.prevToken.name;\n\n      // Multi-param functions require parens and have commas\n      if (this.accept(Token.TYPE_LPAREN)) {\n        node.addChild(this.sum());\n\n        while (this.accept(Token.TYPE_COMMA)) {\n          node.addChild(this.sum());\n        }\n\n        this.expect(Token.TYPE_RPAREN);\n      }\n\n      // Single-parameter functions don't need parens\n      else {\n        node.addChild(this.power());\n      }\n      // console.log(\"parser: val: TYPE_FUNCTION: node: \", node);\n    } else if (this.accept(Token.TYPE_MINUS)) {\n      // negative sign\n      // node = new Node(Node.TYPE_NEGATE).addChild(this.power());\n      node = new Node(Node.TYPE_NEGATE).addChild(this.product());\n    } else if (this.accept(Token.TYPE_PLUS)) {\n      // positive sign\n      node = this.sum();\n    } else if (this.accept(Token.TYPE_LPAREN)) {\n      node = this.sum();\n      this.expect(Token.TYPE_RPAREN);\n    } else if (this.accept(Token.TYPE_ABS)) {\n      node = new Node(Node.TYPE_FUNCTION, Math.abs);\n      node.addChild(this.sum());\n      this.expect(Token.TYPE_ABS);\n    } else {\n      throw (\n        \"Unexpected \" +\n        this.currentToken.toString() +\n        \" at token \" +\n        this.cursor\n      );\n    }\n\n    if (this.accept(Token.TYPE_BANG)) {\n      let factNode = new Node(Node.TYPE_FUNCTION, fact);\n      factNode.addChild(node);\n      return factNode;\n    }\n    // console.log(\"parser: val: return: node: \", node);\n\n    return node;\n  }\n}\n\n/*\n// Non-terminal rules\n// ------------------\n\n// The following parser functions match certain motifs that are called\n// \"non-terminals\" in parsing lingo.\n// Essentially, they implement a sort of finite state automaton.\n// You should read the [Wikipedia article](https://en.wikipedia.org/wiki/Recursive_descent_parser) on recursive-descent parsing if you want to know more about how these work.\n\n// ### Grammar:\n// ```\n// orderExpression : sum\n// sum : product { ('+'|'-') product }\n// product : power { ('*'|'/') power }\n//         | power '(' orderExpression ')'\n// power : TODO power\n// val : SYMBOL\n//     | NUMBER\n//     | FUNCTION '(' orderExpression { ',' orderExpression } ')'\n//     | '-' val\n//     | '(' orderExpression ')'\n//     | '{' orderExpression '}'\n//     | '|' orderExpression '|'\n//     | val '!'\n// ```\n*/\n\n// Parses values or nested expressions.\n//Parser.prototype.val = function() {\n// Don't return new nodes immediately, since we need to parse\n// factorials, which come at the END of values.\n//var node = {};\n\n// Parse negative values like -42.\n// The lexer can't differentiate between a difference and a negative,\n// so that distinction is done here.\n// Notice the `power()` rule that comes after a negative sign so that\n// expressions like `-4^2` return -16 instead of 16.\n\n// Parse nested expression with parentheses.\n// Notice that the parser expects an RPAREN token after the expression.\n\n// Parse absolute value.\n// Absolute values are contained in pipes (`|`) and are treated quite\n// like parens.\n\n// All parsing rules should have terminated or recursed by now.\n// Throw an exception if this is not the case.\n\n// Process postfix operations like factorials.\n\n// Parse factorial.\n\n//return node;\n//};\n","\n// https://arthanzel.github.io/evaluatex/\n\nimport lexer from \"./lexer.js\";\nimport parser from \"./parser.js\";\n\n/**\n * Parses a given math expression and returns a function that computes the result.\n * @param {String} expression Math expression to parse.\n * @param {Object} constants A map of constants that will be compiled into the resulting function.\n * @param {Object} options Options to Evaluatex.\n * @returns {fn} A function that takes an optional map of variables. When invoked, this function computes the math expression and returns the result. The function has fields `ast` and `expression`, which respectively hold the AST and original math expression.\n */\nexport default function evaluatex(expression, constants = {}, options = {}) {\n    const tokens = lexer(expression, constants, options);\n    // const ast = parser(tokens).simplify();\n    const ast = parser(tokens);\n    const fn = function(variables = {}) { return ast.evaluate(variables); };\n    fn.ast = ast;\n    fn.expression = expression;\n    fn.tokens = tokens;\n    return fn;\n}","import evaluatex from \"./evaluatexExtended/evaluatex.js\";\nimport Node from \"./evaluatexExtended/Node.js\";\n\nlet MQ = window.MQ;\n\nexport function initRules(arrRules) {\n  let arrInit = [];\n  arrRules.forEach((item) => {\n    if (item.vars) item = compressRule(item);\n    arrInit.push(item);\n  });\n  return arrInit;\n}\nexport function addFrontRule(initRule, arrRules) {\n  let arrInit = [];\n  if (initRule && initRule.vars) {\n    initRule = compressRule(initRule);\n    arrInit.push(initRule);\n  }\n  return arrInit.concat(arrRules);\n}\nfunction compressRule(rule) {\n  // rule.left = rule.left.replace(/\\s+/g, \"\");\n  // rule.right = rule.right.replace(/\\s+/g, \"\");\n  return rule;\n}\nexport function isAllVarsFilled(selectedRule) {\n  for (let v of selectedRule.vars) {\n    if (!selectedRule[v]) return false;\n    if (selectedRule[v].value === \"\") return false;\n  }\n  return true;\n}\nexport function mqifyRules(rules, isSelected) {\n  if (isSelected) {\n    MQ.StaticMath(document.getElementById(\"selectedRule\"));\n  } else {\n    let ruleId = \"\";\n    rules.forEach((item, index) => {\n      if (item.vars) {\n        ruleId = \"rule_\" + index;\n        MQ.StaticMath(document.getElementById(ruleId));\n      }\n    });\n  }\n}\nexport function downloadRules(obj, filename) {\n  const json = JSON.stringify(obj);\n  const element = document.createElement(\"a\");\n  // element.setAttribute(\n  //   \"href\",\n  //   \"data:application/json,\" + encodeURIComponent(json)\n  // );\n  // element.setAttribute(\"download\", filename);\n  element.href = \"data:application/json,\" + encodeURIComponent(json);\n  element.download = filename;\n  element.style.display = \"none\";\n  document.body.appendChild(element);\n  element.click();\n  document.body.removeChild(element);\n}\nexport function showRuleName(rule, locale) {\n  return rule.name ? (locale[rule.name] ? locale[rule.name] : rule.name) : \"\";\n}\nexport function showRule(rule) {\n  return rule.matched\n    ? rule.matched.left + \" \\\\<space> &rArr; \\\\<space> \" + rule.matched.right\n    : rule.left\n    ? rule.left + \" \\\\<space> &rArr; \\\\<space> \" + rule.right\n    : \"\";\n}\nexport function showRuleNoMatch(rule) {\n  return rule.left\n    ? rule.left + \" \\\\<space> &rArr; \\\\<space> \" + rule.right\n    : \"\";\n}\nexport function stringifyRule(rule) {\n  const sortedObj = {};\n  const arrKeys = Object.keys(rule);\n  if (arrKeys.length === 1 && arrKeys[0] === \"name\")\n    sortedObj[\"name\"] = rule[\"name\"];\n  else {\n    if (arrKeys.includes(\"left\")) sortedObj[\"left\"] = rule[\"left\"];\n    if (arrKeys.includes(\"right\")) sortedObj[\"right\"] = rule[\"right\"];\n    if (arrKeys.includes(\"vars\")) sortedObj[\"vars\"] = rule[\"vars\"];\n    if (arrKeys.includes(\"swap\")) sortedObj[\"swap\"] = rule[\"swap\"];\n    if (arrKeys.includes(\"name\")) sortedObj[\"name\"] = rule[\"name\"];\n  }\n  return JSON.stringify(sortedObj);\n}\n\nexport function matchRule(math, selectedRule) {\n  // console.log(\"matchRule: math: \", math);\n  // console.log(\"matchRule: selectedRule: \", selectedRule);\n  const mathAst = evaluatex(math, {}, { latex: true }).ast;\n  const leftAst = evaluatex(selectedRule.left, {}, { latex: true }).ast;\n  const rightAst = evaluatex(selectedRule.right, {}, { latex: true }).ast;\n  // console.log(\"matchRule: before: mathAst: \", mathAst.printTree());\n  // convert bindings in selectedRule to ast nodes\n  const prebindings = {};\n  for (let v of selectedRule.vars) {\n    // console.log(\"v: \", v, \", selectedRule[v]: \", selectedRule[v]);\n    if (selectedRule[v] !== undefined) {\n      prebindings[v] = evaluatex(selectedRule[v], {}, { latex: true }).ast;\n      // update selectedRule with latex for vars\n      selectedRule[v] = prebindings[v].toLaTeX();\n    }\n  }\n  // console.log(\"matchRule: prebindings: \", prebindings);\n  // compute newMath\n  const outbindings = [];\n  if (!match_bind(mathAst, leftAst, prebindings, outbindings, -1)) {\n    // no match\n    return { match: 0, math: math };\n  } else if (outbindings.length > 1) {\n    // more than 1 match\n    // console.log(\"matchRule: after: outbindings: \", outbindings);\n    return { match: outbindings.length, math: math };\n  } else {\n    // only 1 match\n    unify(rightAst, outbindings[0]);\n    replace(mathAst, leftAst, rightAst, outbindings[0]);\n    unify(leftAst, outbindings[0]);\n    // console.log(\"matchRule: after: outbindings: \", outbindings);\n    // console.log(\"matchRule: after: mathAst: \", mathAst.printTree());\n    // console.log(\"matchRule: after: leftAst: \", leftAst.printTree());\n    // console.log(\"matchRule: after: rightAst: \", rightAst.printTree());\n    // map return values\n    let matched = {};\n    matched.left = leftAst.toLaTeX();\n    matched.right = rightAst.toLaTeX();\n    selectedRule.matched = matched;\n    // rewrite math to newMath\n    const newMath = evaluatex(\n      mathAst.toLaTeX(),\n      {},\n      { latex: true }\n    ).ast.toLaTeX();\n    // const newMath = mathAst.toLaTeX();\n    // console.log(\"matchRule: newMath: \", newMath);\n    return { match: 1, math: newMath };\n  }\n}\n\n/**\n * @param: count: number of matches: 1 default, < 0 all matches\n **/\nfunction match_bind(\n  astNode,\n  patNode,\n  inbindings = {},\n  outbindings = [],\n  count = 5\n) {\n  console.log(\"match_bind: inbindings: \", inbindings);\n  // init bindings\n  let bindings = {};\n  // init iterators\n  const astNodeIter = astNode.iterator();\n  const patNodeIter = patNode.iterator();\n  // run matches with no inbindings\n  while (match_bind_aux(astNodeIter.next(), patNodeIter.next())) {\n    // match complete\n    // save bindings into outbindings\n    const outbind = {};\n    insertBindings(bindings, outbind);\n    outbindings.push(outbind);\n    // check count\n    count--;\n    console.log(\"match_bind: count: \", count);\n    if (count === 0) break;\n    // restart match\n    resetMatch();\n  }\n  // seledt matches by inbindings\n  match_select(inbindings, outbindings);\n  console.log(\"match_bind: outbindings: \", outbindings);\n  // no more natches, either end of ast or end of count\n  return outbindings.length > 0;\n\n  function match_select(inbindings, outbindings) {\n    // no inbindings\n    if (Object.keys(inbindings).length === 0) return;\n    // copy outbinding to new array temp\n    const temp = outbindings.slice(0);\n    // clear outbindings\n    outbindings.splice(0, outbindings.length);\n    // copy outbindings matching inbindings\n    // console.log(\"match_select: inbindings: \", inbindings);\n    // console.log(\"match_select: temp: \", temp);\n    let match;\n    for (let bind of temp) {\n      match = true;\n      for (let key in inbindings) {\n        if (bind[key] !== undefined) {\n          // key exists in outbindings,\n          // must be the same as in inbindings or match fails\n          if (\n            bind[key].type !== inbindings[key].type ||\n            bind[key].value !== inbindings[key].value\n          )\n            match = false;\n        }\n        // complete outbindings\n        else bind[key] = inbindings[key];\n      }\n      if (match) outbindings.push(bind);\n    }\n    // console.log(\"match_select: outbindings: \", outbindings);\n  }\n\n  function match_bind_aux(astNode, patNode) {\n    // console.log(\"match_bind_aux astNode: \", astNode.toString(), \", patNode: \", patNode.toString(), \", bindings: \", bindings);\n    // matchComplete\n    if (patNode.type === Node.TYPE_EOS) {\n      console.log(\"Match Complete!\");\n      return true;\n    }\n    // End of ast\n    if (astNode.type === Node.TYPE_EOS) {\n      console.log(\"End of ast\");\n      return false;\n    }\n    // match type\n    if (astNode.type === patNode.type) {\n      // same type\n      // store start node of match to bindings.start\n      if (bindings.start === undefined) bindings.start = astNode.id;\n      // track match in bindings\n      bindings[patNode.id] = astNode.id;\n      // check equal types\n      switch (astNode.type) {\n        case Node.TYPE_NUMBER:\n          if (astNode.value !== patNode.value) {\n            // values do not match, match fails,\n            resetMatch();\n          }\n          // return match_bind_aux(astNodeIter.next(), patNodeIter.next());\n          break;\n        case Node.TYPE_SYMBOL:\n          if (bindings[patNode.value]) {\n            // binding with this key already exists\n            if (bindings[patNode.value].value !== astNode.value) {\n              // values do not match, match fails,\n              resetMatch();\n            }\n          } else {\n            // binding with this key does not exists\n            // set binding and match ok\n            bindings[patNode.value] = astNode;\n          }\n          // return match_bind_aux(astNodeIter.next(), patNodeIter.next());\n          break;\n        case Node.TYPE_SUM:\n        case Node.TYPE_PRODUCT:\n          const countDiff = astNode.childrenCount - patNode.childrenCount;\n          if (astNode.childrenCount > 2 && countDiff > 0) {\n            // more children in astNode than in patNode, check additional matches\n            let astNext = astNodeIter.next();\n            const patNext = patNodeIter.next();\n            const bind = {};\n            insertBindings(bindings, bind);\n            for (let i = 0; i <= countDiff; i++) {\n              // skip first child of astNode\n              // restart with next children of astNode\n              astNext = astNodeIter.leap();\n              if (match_bind_aux(astNext, patNext)) {\n                // save bindigs in global outbindings\n                outbindings.push(bindings);\n                // console.log(\"more children: outbindings: \", outbindings)\n              }\n              // reset iter to astNext and patNext\n              astNodeIter.restartAt(astNext.id);\n              patNodeIter.restartAt(patNext.id);\n              // reset bindings\n              bindings = {};\n              insertBindings(bind, bindings);\n            }\n            // reset to astNode and patNode and contunue as usual using first child\n            astNodeIter.restartAt(astNode.id);\n            patNodeIter.restartAt(patNode.id);\n            // return match_bind_aux(astNodeIter.next(), patNodeIter.next());\n          } else {\n            // return match_bind_aux(astNodeIter.next(), patNodeIter.next());\n          }\n          break;\n        default:\n          break;\n      }\n      return match_bind_aux(astNodeIter.next(), patNodeIter.next());\n    } else if (patNode.type === Node.TYPE_SYMBOL) {\n      // different types and patNode is symbol\n      // bind patNode symbol to astNode and all its children\n      if (bindings[patNode.value] !== undefined) {\n        // binding for patNode already exists\n        // console.log(\"differnt but symbol: bindings exist: \", bindings, \"\\n astNode: \", astNode);\n        // start new match from this astnode and binding\n        const bindMatch = match_strict(astNode, bindings[patNode.value]);\n        // console.log(\"differnt but symbol: bindings exist: bindMatch: \", bindMatch);\n        if (bindMatch === false) {\n          // values do not match, match fails,\n          resetMatch();\n        } else {\n          // track match in bindings\n          if (bindings.start === undefined) bindings.start = astNode.id;\n          bindings[patNode.id] = astNode.id;\n        }\n        // console.log(\"match_bind_aux: differnt but symbol: bindings exist: astNodeIter.stack(): \", astNodeIter.stack());\n        return match_bind_aux(astNodeIter.leap(), patNodeIter.next());\n      } else {\n        // no binding for patNode\n        // set binding and match ok\n        bindings[patNode.value] = astNode;\n        // track match in bindings\n        if (bindings.start === undefined) bindings.start = astNode.id;\n        bindings[patNode.id] = astNode.id;\n        // leap to next astNode\n        return match_bind_aux(astNodeIter.leap(), patNodeIter.next());\n      }\n    } else {\n      // different types, match fails\n      resetMatch();\n      return match_bind_aux(astNodeIter.next(), patNodeIter.next());\n    }\n  }\n  function match_strict(astNode, patNode) {\n    const astNodeIter = astNode.iterator();\n    const patNodeIter = patNode.iterator();\n    return match_strict_aux(astNodeIter.next(), patNodeIter.next());\n\n    function match_strict_aux(astNode, patNode) {\n      // console.log(\"match_strict_aux astNode: \", astNode.toString(), \", patNode: \", patNode.toString());\n      if (patNode.type === Node.TYPE_EOS) return true;\n      if (astNode.type === Node.TYPE_EOS) return false;\n      if (astNode.type === patNode.type) {\n        // console.log(\"match_strict_aux:sameType: astNode.value: \", astNode.value, \", patNode.value: \", patNode.value);\n        if (\n          astNode.type === Node.TYPE_NUMBER &&\n          astNode.value !== patNode.value\n        )\n          return false;\n        if (\n          astNode.type === Node.TYPE_SYMBOL &&\n          astNode.value !== patNode.value\n        )\n          return false;\n        return match_strict_aux(astNodeIter.next(), patNodeIter.next());\n      }\n      // console.log(\"match_strict_aux:return last: false\");\n      return false;\n    }\n  }\n  function resetMatch() {\n    // rewind astNode, reinit patNode and clear bindings\n    if (bindings.start !== undefined) {\n      // console.log(\"resetMatch: bindings.start: \", bindings.start);\n      // console.log(\"resetMatch: astNodeIter.stack(): \", astNodeIter.stack());\n      astNodeIter.restartAt(bindings.start);\n    } else {\n      // continue astNode\n    }\n    patNodeIter.reinit();\n    // clear bindings\n    bindings = {};\n  }\n  function insertBindings(newBind, oldBind) {\n    // console.log(\"before oldBind: \", oldBind, \", newBind: \", newBind);\n    for (let key in newBind) {\n      // binding with this key already exists and has different values\n      if (oldBind[key] && oldBind[key] !== newBind[key]) {\n        // do not touch oldBind\n        return false;\n      }\n    }\n    for (let key in newBind) {\n      // update oldBind wirh newBind\n      oldBind[key] = newBind[key];\n    }\n    // console.log(\"after oldBind: \", oldBind, \", newBind: \", newBind);\n    return true;\n  }\n}\n\nfunction unify(rightAst, bindings) {\n  const rightAstIter = rightAst.iterator();\n  let rightAstNode = rightAstIter.next();\n  let success = false;\n  // run down rightAst\n  while (rightAstNode.type !== Node.TYPE_EOS) {\n    success = false;\n    // console.log(\"unify: rightAstNode: \", rightAstNode);\n    // console.log(\"unify: nodeStack: \", rightAstIter.stack());\n    // if symbol node\n    if (rightAstNode.type === Node.TYPE_SYMBOL) {\n      // if binding for symbol\n      if (bindings[rightAstNode.value] !== undefined)\n        // replace symbol node with binding node\n        // [success, newRightAst] = rightAstIter.replace(rightAstNode, bindings[rightAstNode.value]);\n        success = rightAstIter.replace(\n          rightAstNode,\n          bindings[rightAstNode.value]\n        );\n    }\n    if (success)\n      // leap over replaced binding node\n      rightAstNode = rightAstIter.leap();\n    // check next node\n    else rightAstNode = rightAstIter.next();\n  }\n}\n\nfunction replace(exprAst, leftAst, rightAst, bindings) {\n  const exprAstIter = exprAst.iterator();\n  let exprAstNode = exprAstIter.next();\n  let success = false;\n\n  while (exprAstNode.type !== Node.TYPE_EOS) {\n    // go to matching node in exprAst\n    if (exprAstNode.id === bindings[leftAst.id]) {\n      // console.log(\"rulejs: replace before: exprAstNode: \", exprAstNode.printTree());\n      if (exprAstNode.children.length === leftAst.children.length) {\n        // matching nodes have same children\n        // replace rightAst in exprAst\n        success = exprAstIter.replace(exprAstNode, rightAst);\n        break;\n      } else {\n        // exprAst node has matching and unmatching children\n        if (\n          exprAstNode.type === Node.TYPE_SUM ||\n          exprAstNode.type === Node.TYPE_PRODUCT\n        ) {\n          // replace matching children with rightAst and add unmatching children\n          const newChildren = replaceMatchingChildren(\n            exprAstNode.children,\n            leftAst,\n            rightAst,\n            bindings\n          );\n          // console.log(\"rulejs: replace: newChildren: \", newChildren);\n          // replace children of exprAst with newChildren\n          success = exprAstIter.replaceChildren(exprAstNode, newChildren);\n          // console.log(\"rulejs: replace after: exprAstNode: \", exprAstNode.printTree());\n          break;\n        }\n      }\n    }\n    exprAstNode = exprAstIter.next();\n  }\n  if (!success) console.log(\"No replace !!!! \");\n\n  return;\n\n  function replaceMatchingChildren(children, leftAst, rightAst, bindings) {\n    let newChildren = [];\n    // get ids of matching children\n    const ids = leftAst.children.map((child) =>\n      bindings[child.id] ? bindings[child.id] : -1\n    );\n    // unmatching children are newChildren\n    let pushedRight = false;\n    for (let child of children) {\n      if (ids.indexOf(child.id) === -1) newChildren.push(child);\n      else if (!pushedRight) {\n        // rightAst is newChildren\n        newChildren.push(rightAst);\n        pushedRight = true;\n      }\n    }\n    // console.log(\"rulejs: replaceMatchingChildren: newChildren: \", newChildren);\n    return newChildren;\n  }\n}\n","import { render } from \"./RuleSelect.vue?vue&type=template&id=08a16b8c&scoped=true\"\nimport script from \"./RuleSelect.vue?vue&type=script&lang=js\"\nexport * from \"./RuleSelect.vue?vue&type=script&lang=js\"\n\nimport \"./RuleSelect.vue?vue&type=style&index=0&id=08a16b8c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-08a16b8c\"\n\nexport default script","import { render } from \"./MathItem.vue?vue&type=template&id=3711d6e8&scoped=true\"\nimport script from \"./MathItem.vue?vue&type=script&lang=js\"\nexport * from \"./MathItem.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-3711d6e8\"\n\nexport default script","<template>\n  <span\n    v-if=\"isEditing\"\n    class=\"input__lg\"\n    id=\"enter-math-field\"\n    @click=\"onEdit\"\n  ></span>\n  <span v-else class=\"input__lg editable\" @click=\"onClick\">{{\n    locale.enterMath\n  }}</span>\n  <button\n    type=\"button\"\n    @click=\"onStart\"\n    class=\"btn btn__primary btn__lg btn__top\"\n  >\n    Start\n  </button>\n</template>\n \n<script>\nimport { createMQEditField } from \"../libs/mq.js\";\nimport evaluatex from \"../libs/evaluatexExtended/evaluatex.js\";\nexport default {\n  emits: [\"newmath\"],\n  props: {\n    initMath: String,\n  },\n  data() {\n    return {\n      input: this.initMath,\n      MQMathField: {},\n      isEditing: false,\n      locale: this.gLocale,\n    };\n  },\n  computed: {},\n  methods: {\n    onInit() {\n      this.MQMathField.latex(this.initMath);\n    },\n    onClick() {\n      this.isEditing = true;\n    },\n    onEdit() {\n      this.MQMathField.focus();\n      this.gFocusMQref.value = this.MQMathField;\n      // console.log(\"onClick: gFocusMQref.value: \", this.gFocusMQref.value);\n    },\n    onInput(inp) {\n      this.input = inp;\n      // console.log(\"MathEnter: onInput: latex: \" + this.input);\n    },\n    onStart() {\n      if (this.input === \"\") return;\n      // this.$emit(\"newmath\", this.input.replace(/\\s+/g, \"\"));\n\n      console.log(\"MathEnter: onStart: latex: \", this.input);\n      let fn = evaluatex(this.input, {}, { latex: true });\n      // console.log(\"expression: \", fn.expression);\n      // console.log(\"tokens: string: \", fn.tokens.toString());\n      // console.log(\"ast: \", fn.ast.printTree());\n      let latex = fn.ast.toLaTeX();\n      console.log(\"laTeX: \", latex);\n\n      this.$emit(\"newmath\", latex);\n      // this.$emit(\"newmath\", this.input);\n      this.input = \"\";\n      this.gFocusMQref.value = {};\n      this.isEditing = false;\n    },\n  },\n  mounted() {\n    // // console.log(\"MathEnter mounted:\");\n  },\n  updated() {\n    // console.log(\"MathEnter updated:\");\n    this.MQMathField = createMQEditField(\n      \"enter-math-field\",\n      this.onInput,\n      this.onStart\n    );\n    this.onInit();\n  },\n};\n</script>","import { render } from \"./MathEnter.vue?vue&type=template&id=229b59e8\"\nimport script from \"./MathEnter.vue?vue&type=script&lang=js\"\nexport * from \"./MathEnter.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./MathList.vue?vue&type=template&id=60585c8f\"\nimport script from \"./MathList.vue?vue&type=script&lang=js\"\nexport * from \"./MathList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// <template>\n  <h1>{{ locale.editorTitle }}</h1>\n  <div>\n    <p>\n      {{ locale.editorRule }}<br />\n      {{ locale.editorNew }}<br />\n      {{ locale.editorDelete }}<br />\n      {{ locale.editorSave }}<br />\n      {{ locale.editorCancel }}\n    </p>\n    <div id=\"scroll\" class=\"scrolldown\">\n      <span\n        v-for=\"(optRule, index) in rules\"\n        :key=\"index\"\n        @click=\"onSelect(optRule, index)\"\n      >\n        <div>{{ index }}.</div>\n        <div>{{ onShowRuleName(optRule) }}</div>\n        <span :id=\"'rule_' + index\" v-html=\"onShowRule(optRule)\"></span>\n      </span>\n    </div>\n  </div>\n  <div id=\"showRule\">\n    <span id=\"editRule\" v-html=\"onShowRule(editRule)\"></span>\n  </div>\n  <div>\n    <rule-var-edit\n      varName=\"indx\"\n      :varValue=\"editRuleIndex\"\n      :key=\"forceRerender\"\n      @varedited=\"onVarEdited\"\n    ></rule-var-edit>\n  </div>\n  <div>\n    <rule-var-edit\n      varName=\"left\"\n      :varValue=\"editRuleLeft\"\n      :key=\"forceRerender\"\n      @varedited=\"onVarEdited\"\n    ></rule-var-edit>\n  </div>\n  <div>\n    <rule-var-edit\n      varName=\"right\"\n      :varValue=\"editRuleRight\"\n      :key=\"forceRerender\"\n      @varedited=\"onVarEdited\"\n    ></rule-var-edit>\n  </div>\n  <div>\n    <rule-var-edit\n      varName=\"vars\"\n      :varValue=\"editRuleVars\"\n      :key=\"forceRerender\"\n      @varedited=\"onVarEdited\"\n    ></rule-var-edit>\n  </div>\n  <div>\n    <label class=\"varLabel\" for=\"swap\">swap</label>\n    <span class=\"varInput\" id=\"swap\">\n      <label class=\"radioLabel\" for=\"swaptrue\"\n        >true\n        <input\n          type=\"radio\"\n          name=\"swap\"\n          id=\"swaptrue\"\n          :checked=\"editRuleSwap === 'true'\"\n          @click=\"onVarEdited('swap', 'true')\"\n        />\n      </label>\n      <label class=\"radioLabel\" for=\"swapfalse\"\n        >false\n        <input\n          type=\"radio\"\n          name=\"swap\"\n          id=\"swapfalse\"\n          :checked=\"editRuleSwap === 'false'\"\n          @click=\"onVarEdited('swap', 'false')\"\n        />\n      </label>\n    </span>\n  </div>\n  <div>\n    <label class=\"varLabel\" for=\"name\">name</label>\n    <input\n      type=\"text\"\n      id=\"name\"\n      class=\"varInput\"\n      v-model=\"editRuleName\"\n      @input=\"onVarEdited('name', '')\"\n    />\n  </div>\n  <div id=\"showJson\">\n    <label class=\"varLabel\" for=\"json\">json</label>\n    <span class=\"varInput\" id=\"json\">{{ jsonRule }}</span>\n  </div>\n  <div>\n    <span class=\"isError\" v-if=\"isErrorIllegalRuleNeitherVarsNorName\">{{\n      locale.isErrorIllegalRuleNeitherVarsNorName\n    }}</span>\n    <span class=\"isError\" v-if=\"isErrorIllegalIndex\">{{\n      locale.isErrorIllegalIndex\n    }}</span>\n    <span class=\"isError\" v-if=\"isErrorQuitEditMqFirst\">\n      {{ locale.isErrorQuitEditMqFirst }}\n    </span>\n  </div>\n\n  <div class=\"btn-group btn__top\">\n    <button type=\"button\" class=\"btn btn__primary\" @click=\"onNew\">\n      {{ locale.editorNewButton }}\n    </button>\n    <button type=\"button\" class=\"btn btn__primary\" @click=\"onDelete\">\n      {{ locale.editorDeleteButton }}\n    </button>\n    <button type=\"button\" class=\"btn btn__primary\" @click=\"onApply\">\n      {{ locale.editorApplyButton }}\n    </button>\n    <button\n      type=\"button\"\n      class=\"btn btn__primary\"\n      @click=\"this.$router.push({ name: 'File' })\"\n    >\n      {{ locale.editorSaveButton }}\n    </button>\n    <button type=\"button\" class=\"btn\" @click=\"onCancel\">\n      {{ locale.editorCancelButton }}\n    </button>\n  </div>\n</template>\n\n<script>\nimport RuleVarEditVue from \"./RuleVarEdit.vue\";\nimport {\n  //initRules,\n  showRule,\n  showRuleName,\n  mqifyRules,\n  stringifyRule,\n} from \"../libs/rule.js\";\nimport evaluatex from \"../libs/evaluatexExtended/evaluatex.js\";\nlet MQ = window.MQ;\nexport default {\n  components: {\n    RuleVarEdit: RuleVarEditVue,\n  },\n  emits: [\"ruleadded\", \"addcancelled\"],\n  data() {\n    return {\n      // rules: initRules(this.gRulesJSON),\n      rules: this.gRulesJSONref.value,\n      editRule: {},\n      editRuleIndex: -1,\n      editRuleLeft: \"\",\n      editRuleRight: \"\",\n      editRuleVars: \"\",\n      editRuleSwap: false,\n      editRuleName: \"\",\n      deletedRule: {},\n      deletedRuleIndex: -1,\n      newRuleIndex: -1,\n      hasChanged: false,\n      isNew: false,\n      forceRerender: 0,\n      locale: this.gLocale,\n      isErrorIllegalRuleNeitherVarsNorName: false,\n      isErrorIllegalIndex: false,\n      isErrorQuitEditMqFirst: false,\n    };\n  },\n  computed: {\n    jsonRule() {\n      return stringifyRule(this.editRule);\n    },\n  },\n  watch: {\n    editRule(rule) {\n      // update edit\n      this.editRuleLeft = rule.left ? rule.left : \"\";\n      this.editRuleRight = rule.right ? rule.right : \"\";\n      this.editRuleVars = rule.vars ? rule.vars.join().replace(/,/g, \"\") : \"\";\n      this.editRuleSwap = rule.swap ? rule.swap : \"false\";\n      this.editRuleName = rule.name ? rule.name : \"\";\n      // console.log(\"RuleEditor: watch: editRule: rule: \", rule);\n    },\n  },\n  methods: {\n    onShowRuleName(rule) {\n      return showRuleName(rule, this.locale);\n    },\n    onShowRule(rule) {\n      return showRule(rule);\n    },\n    onSelect(rule, index) {\n      // quit current rule edit first\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true;\n        return;\n      }\n      // clear errors\n      this.isErrorIllegalIndex = false;\n      this.isErrorIllegalRuleNeihterVarsNorName = false;\n      // copy selected rule to init editRule\n      this.editRule = JSON.parse(JSON.stringify(rule));\n      this.editRuleIndex = index;\n      // forcererender to clear MQmathEdit\n      this.forceRerender += 1;\n    },\n    onVarEdited(varName, varValue) {\n      // clear error flag\n      this.isErrorQuitEditMqFirst = false;\n      // set change flag\n      this.hasChanged = true;\n      // set value for rule variable\n      switch (varName) {\n        case \"left\":\n          varValue = evaluatex(varValue, {}, { latex: true }).ast.toLaTeX();\n          console.log(\"varValue: laTeX: \", varValue);\n\n          this.editRuleLeft = varValue;\n          if (varValue === \"\") delete this.editRule.left;\n          else this.editRule.left = varValue;\n          break;\n        case \"right\":\n          varValue = evaluatex(varValue, {}, { latex: true }).ast.toLaTeX();\n          console.log(\"varValue: laTeX: \", varValue);\n\n          this.editRuleRight = varValue;\n          if (varValue === \"\") delete this.editRule.right;\n          else this.editRule.right = varValue;\n          break;\n        case \"vars\":\n          this.editRuleVars = varValue;\n          if (varValue === \"\") delete this.editRule.vars;\n          else {\n            this.isErrorIllegalRuleNeitherVarsNorName = false;\n            this.editRule.vars = varValue.split(\"\");\n          }\n          break;\n        case \"swap\":\n          this.editRuleSwap = varValue;\n          if (varValue === \"true\") this.editRule.swap = \"true\";\n          else delete this.editRule.swap;\n          break;\n        case \"name\":\n          varValue = this.editRuleName;\n          if (varValue === \"\") delete this.editRule.name;\n          else {\n            this.isErrorIllegalRuleNeitherVarsNorName = false;\n            this.editRule.name = varValue;\n          }\n          break;\n        case \"indx\":\n          // console.log(\"RuleEditor: onVarEdited index varValue: \", varValue);\n          this.editRuleIndex = varValue;\n          this.isErrorIllegalIndex = false;\n          break;\n        default:\n      }\n    },\n    onNew() {\n      // quit current rule edit\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true;\n        return;\n      }\n      // clear errors\n      this.isErrorIllegalRuleNeitherVarsNorName = false;\n      this.isErrorIllegalIndex = false;\n      // check index for new\n      if (this.editRuleIndex < 0 || this.editRuleIndex > this.rules.length) {\n        this.isErrorIllegalIndex = true;\n        return;\n      }\n      // save newRuleIndex for remove onCancel\n      this.newRuleIndex = this.editRuleIndex;\n      // confirm new, insert editRule\n      this.rules.splice(this.editRuleIndex, 0, this.editRule);\n      // save rules globally\n      this.gRulesJSONref.value = this.rules;\n    },\n    onDelete() {\n      // quit current rule edit\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true;\n        return;\n      }\n      // clear errors\n      this.isErrorIllegalRuleNeitherVarsNorName = false;\n      this.isErrorIllegalIndex = false;\n      // check index for existing rule to be deleted\n      if (\n        this.editRuleIndex < 0 ||\n        this.editRuleIndex > this.rules.length - 1\n      ) {\n        this.isErrorIllegalIndex = true;\n        return;\n      }\n      // delete selected rule\n      // save deleted rule for restore onCancel\n      this.deletedRuleIndex = this.editRuleIndex;\n      this.deletedRule = this.rules.splice(this.deletedRuleIndex, 1)[0];\n      // console.log(\"onDelete: deletedRule: \", this.deletedRule);\n      // console.log(\"onDelete: rules: \", this.rules);\n      // save rules globally\n      this.gRulesJSONref.value = this.rules;\n      // clear editRule\n      this.editRule = {};\n      this.editRuleIndex = -1;\n    },\n    onApply() {\n      // quit current rule edit\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true;\n        return;\n      }\n      // save changes on editRule\n      // clear errors\n      this.isErrorIllegalRuleNeitherVarsNorName = false;\n      this.isErrorIllegalIndex = false;\n      // no legal rule\n      if (!this.editRule.vars && !this.editRule.name) {\n        this.isErrorIllegalRuleNeitherVarsNorName = true;\n        return;\n      }\n      if (this.hasChanged) {\n        // check index for edit\n        if (\n          this.editRuleIndex < 0 ||\n          this.editRuleIndex > this.rules.length - 1\n        ) {\n          this.isErrorIllegalIndex = true;\n          return;\n        }\n        // save replaced rule for restore onCancel\n        this.deletedRule = this.rules[this.editRuleIndex];\n        this.deletedRuleIndex = this.editRuleIndex;\n        // confirm edit, replace with editRule\n        this.rules.splice(this.editRuleIndex, 1, this.editRule);\n        // save rules globally\n        this.gRulesJSONref.value = this.rules;\n\n        // clear change\n        this.hasChanged = false;\n        // clear keypad\n        this.gFocusMQref.value = {};\n        // check rules\n        // console.log(\"onSave: rules: \", this.rules);\n        // forcererender to clear MQmathEdit\n        this.forceRerender += 1;\n      } else console.log(\"onSave: nothing saved\");\n    },\n    onCancel() {\n      // quit current rule edit\n      if (this.gFocusMQref.value.id) {\n        this.isErrorQuitEditMqFirst = true;\n        return;\n      }\n      // clear errors\n      this.isErrorIllegalRuleNeitherVarsNorName = false;\n      this.isErrorIllegalIndex = false;\n      // clear edit\n      this.hasChanged = false;\n      this.editRule = {};\n      this.editRuleIndex = -1;\n      // clear delete\n      if (this.deletedRuleIndex >= 0)\n        this.rules.splice(this.deletedRuleIndex, 0, this.deletedRule);\n      // console.log(\"onCancel: deletedRuleIndex: \", this.deletedRuleIndex);\n      // console.log(\"onCancel: rules: \", this.rules);\n      this.deletedRule = {};\n      this.deletedRuleIndex = -1;\n      // clear new\n      if (this.newRuleIndex >= 0) this.rules.splice(this.newRuleIndex, 1);\n      this.newRuleIndex = -1;\n      // clear keypad\n      this.gFocusMQref.value = {};\n      // save rules globally\n      this.gRulesJSONref.value = this.rules;\n    },\n  },\n  mounted() {\n    MQ.StaticMath(document.getElementById(\"editRule\"));\n    mqifyRules(this.rules, false);\n    // console.log(\"Editor mounted !\");\n  },\n  updated() {\n    MQ.StaticMath(document.getElementById(\"editRule\"));\n    mqifyRules(this.rules, false);\n    // console.log(\"Editor updated !\");\n  },\n};\n</script>\n\n<style scoped>\n#showRule,\n#showJson,\n#scroll {\n  margin-top: 2rem;\n  margin-bottom: 1rem;\n}\n.scrolldown {\n  display: block;\n  width: 100%;\n  height: 20rem;\n  border-spacing: 0;\n  border: 1px solid gray;\n  text-align: left;\n  /* Set vertical scroll */\n  overflow-y: auto;\n  /* Hide the horizontal scroll */\n  overflow-x: hidden;\n}\n.scrolldown span {\n  display: block;\n  width: 100%;\n  border-bottom: 1px solid gray;\n}\n.radioLabel {\n  display: inline-block;\n  position: relative;\n  padding-left: 17px;\n  margin-right: 20px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.radioLabel input {\n  position: absolute;\n  left: 0px;\n  top: 4px;\n}\n.varInput {\n  display: inline-block;\n  padding-left: 8px;\n  width: 92%;\n}\n.varLabel {\n  display: inline-block;\n  width: 8%;\n}\n</style>","import { render } from \"./Editor.vue?vue&type=template&id=5050f9cb&scoped=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=js\"\nexport * from \"./Editor.vue?vue&type=script&lang=js\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=5050f9cb&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5050f9cb\"\n\nexport default script","<template>\n  <h1>{{ locale.fileTitle }}</h1>\n  <p>\n    {{ locale.fileEdit }}<br />\n    {{ locale.fileSave }}<br />\n    {{ locale.fileOpen }}<br />\n    {{ locale.fileReset }}\n  </p>\n  <input type=\"file\" class=\"file_select\" id=\"myRules\" @change=\"onOpen\" />\n  <div class=\"btn-group btn__top\">\n    <button\n      type=\"button\"\n      class=\"btn btn__primary\"\n      @click=\"this.$router.push({ name: 'Editor' })\"\n    >\n      {{ locale.fileEditButton }}\n    </button>\n    <button type=\"button\" class=\"btn btn__primary\" @click=\"onSave\">\n      {{ locale.fileSaveButton }}\n    </button>\n    <label for=\"myRules\" class=\"btn btn__primary\">{{ locale.open }}</label>\n    <button type=\"button\" class=\"btn\" @click=\"onReset\">\n      {{ locale.fileResetButton }}\n    </button>\n  </div>\n</template>\n\n<script>\nimport { downloadRules } from \"../libs/rule.js\";\nimport rulesJSON from \"../assets/rules.json\";\nimport { initRules } from \"../libs/rule.js\";\nexport default {\n  data() {\n    return {\n      locale: this.gLocale,\n    };\n  },\n  methods: {\n    onOpen() {\n      // select and load local rules.json file\n      const el = document.getElementById(\"myRules\");\n      if (\"files\" in el) {\n        if (el.files[0].type === \"application/json\") {\n          const loadOn = this.onLoad;\n          const fr = new FileReader();\n          fr.readAsText(el.files[0]);\n          fr.onload = function () {\n            try {\n              // console.log(e.target.result, JSON.parse(fr.result));\n              loadOn(initRules(JSON.parse(fr.result)), el.files[0].name);\n            } catch (ex) {\n              alert(\"ex when trying to parse json = \" + ex);\n            }\n          };\n        } else {\n          alert(\"File: onOpen: file is no JSON!\");\n          return;\n        }\n      } else {\n        alert(\"File: onOpen: No files found!\");\n        return;\n      }\n    },\n    onLoad(loadedRules, fileName) {\n      this.gRulesJSONref.value = loadedRules;\n      alert(\"new rules loaded from file: \" + fileName);\n    },\n    onSave() {\n      // offer store of rules to file\n      downloadRules(this.gRulesJSONref.value, \"rules.json\");\n    },\n    onReset() {\n      // load rules from built in rules.json\n      this.gRulesJSONref.value = initRules(rulesJSON);\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* hide file_select element, access by its label element*/\n.file_select {\n  opacity: 0;\n  width: 0.1px;\n  height: 0.1px;\n  position: absolute;\n}\n</style>","import { render } from \"./File.vue?vue&type=template&id=2fb2d7d7&scoped=true\"\nimport script from \"./File.vue?vue&type=script&lang=js\"\nexport * from \"./File.vue?vue&type=script&lang=js\"\n\nimport \"./File.vue?vue&type=style&index=0&id=2fb2d7d7&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2fb2d7d7\"\n\nexport default script","import { createWebHistory, createRouter } from \"vue-router\";\nimport MathList from \"@/components/MathList.vue\";\nimport Editor from \"@/components/Editor.vue\";\nimport File from \"@/components/File.vue\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Trainer\",\n    component: MathList\n  },\n  {\n    path: \"/editor\",\n    name: \"Editor\",\n    component: Editor\n  },\n  {\n    path: \"/file\",\n    name: \"File\",\n    component: File\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\nexport default router;\n","import { createApp, ref } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport \"./assets/reset.css\";\n\nimport locale from \"./assets/locales/deutsch.json\";\nimport rulesJSON from \"./assets/rules.json\";\nimport { initRules } from \"./libs/rule.js\";\n\nconst app = createApp(App).use(router);\n\n// app.config.globalProperties.gRulesJSON = initRules(rulesJSON);\napp.config.globalProperties.gRulesJSONref = ref(initRules(rulesJSON));\napp.config.globalProperties.gClipboard = \"clip\";\napp.config.globalProperties.gFocusMQref = ref({});\napp.config.globalProperties.gLocale = locale;\n\napp.mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RuleSelect.vue?vue&type=style&index=0&id=08a16b8c&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editor.vue?vue&type=style&index=0&id=5050f9cb&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RuleSwapEdit.vue?vue&type=style&index=0&id=64724c7a&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AppNavigation.vue?vue&type=style&index=0&id=5842a196&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MathHeader.vue?vue&type=style&index=0&id=c1078422&scoped=true&lang=css\""],"sourceRoot":""}